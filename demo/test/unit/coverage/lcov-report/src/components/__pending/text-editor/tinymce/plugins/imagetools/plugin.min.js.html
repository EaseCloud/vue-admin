<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/__pending/text-editor/tinymce/plugins/imagetools/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../../../index.html">All files</a> / <a href="index.html">src/components/__pending/text-editor/tinymce/plugins/imagetools</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/915</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/365</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/476</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/10</span>
      </div>
    </div>
    <p class="quiet">
      Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
    </p>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >!(<span class="fstat-no" title="function not covered" >function () </span>{</span>
    var a = <span class="cstat-no" title="statement not covered" >{}, b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >for (var c = a[b], e = c.deps, f = c.defn, g = e.length, h = new Array(g), i = 0; i &lt; g; ++i)<span class="cstat-no" title="statement not covered" >h[i] = d(e[i]); v</span>ar j = <span class="cstat-no" title="statement not covered" >f.apply(null, h); <span class="cstat-no" title="statement not covered" >if (void 0 === j) <span class="cstat-no" title="statement not covered" >throw 'module [' + b + '] returned undefined'; <span class="cstat-no" title="statement not covered" >c</span></span>.instance = j; },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c, d) { <span class="cstat-no" title="statement not covered" >if (typeof b !== 'string') <span class="cstat-no" title="statement not covered" >throw 'module id must be a string'; <span class="cstat-no" title="statement not covered" >i</span></span>f (void 0 === c) <span class="cstat-no" title="statement not covered" >throw 'no dependencies for ' + b; <span class="cstat-no" title="statement not covered" >i</span></span>f (void 0 === d) <span class="cstat-no" title="statement not covered" >throw 'no definition function for ' + b; <span class="cstat-no" title="statement not covered" >a</span></span>[b] = {deps: c, defn: d, instance: void 0}; },</span> d = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>c) { var d = <span class="cstat-no" title="statement not covered" >a[c]; <span class="cstat-no" title="statement not covered" >if (void 0 === d) <span class="cstat-no" title="statement not covered" >throw 'module [' + c + '] was undefined'; <span class="cstat-no" title="statement not covered" >r</span></span>eturn void 0 === d.instance &amp;&amp; b(c), d.instance; },</span> e = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >for (var c = a.length, e = new Array(c), f = 0; f &lt; c; ++f)<span class="cstat-no" title="statement not covered" >e[f] = d(a[f]); <span class="cstat-no" title="statement not covered" >b</span>.apply(null, e); },</span> f = <span class="cstat-no" title="statement not covered" >{}; <span class="cstat-no" title="statement not covered" >f.bolt = {module: {api: {define: c, require: e, demand: d}}}; v</span>ar g = <span class="cstat-no" title="statement not covered" >c, <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >g(a, [], <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return b; })</span>; };</span> <span class="cstat-no" title="statement not covered" >g('1', [], <span class="fstat-no" title="function not covered" >function () </span>{ var <span class="fstat-no" title="function not covered" >a = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { var c = <span class="cstat-no" title="statement not covered" >b, <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return c; },</span> <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >c = a; },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return a(d()); };</span> <span class="cstat-no" title="statement not covered" >return {get: d, set: e, clone: f}; };</span> <span class="cstat-no" title="statement not covered" >return a; })</span>, h('7', tinymce.util.Tools.resolve), g('2', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.PluginManager'); })</span>, g('8', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Tools'); })</span>, g('11', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a, b) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a.apply(b, arguments); };</span> } </span>function <span class="fstat-no" title="function not covered" >b (b) { <span class="cstat-no" title="statement not covered" >if (typeof this !== 'object') <span class="cstat-no" title="statement not covered" >throw new TypeError('Promises must be constructed via new'); <span class="cstat-no" title="statement not covered" >i</span></span>f (typeof b !== 'function') <span class="cstat-no" title="statement not covered" >throw new TypeError('not a function'); <span class="cstat-no" title="statement not covered" >t</span></span>his._state = null, this._value = null, this._deferreds = [], h(b, a(d, this), a(e, this)); } </span>function <span class="fstat-no" title="function not covered" >c (a) { var b = <span class="cstat-no" title="statement not covered" >this; <span class="cstat-no" title="statement not covered" >return this._state === null ? void this._deferreds.push(a) : void i(<span class="fstat-no" title="function not covered" >function () </span>{ var c = <span class="cstat-no" title="statement not covered" >b._state ? a.onFulfilled : a.onRejected; <span class="cstat-no" title="statement not covered" >if (c === null) <span class="cstat-no" title="statement not covered" >return void (b._state ? a.resolve : a.reject)(b._value); v</span></span>ar d; <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >d = c(b._value); } </span>catch (b) { <span class="cstat-no" title="statement not covered" >return void a.reject(b); }<span class="cstat-no" title="statement not covered" >a</span></span>.resolve(d); })</span>; } </span>function <span class="fstat-no" title="function not covered" >d (b) { <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >if (b === this) <span class="cstat-no" title="statement not covered" >throw new TypeError('A promise cannot be resolved with itself.'); <span class="cstat-no" title="statement not covered" >i</span></span>f (b &amp;&amp; (typeof b === 'object' || typeof b === 'function')) { var c = <span class="cstat-no" title="statement not covered" >b.then; <span class="cstat-no" title="statement not covered" >if (typeof c === 'function') <span class="cstat-no" title="statement not covered" >return void h(a(c, b), a(d, this), a(e, this)); } <span class="cstat-no" title="statement not covered" ></span></span>t</span>his._state = !0, this._value = b, f.call(this); } </span>catch (a) { <span class="cstat-no" title="statement not covered" >e.call(this, a); } </span>} </span>function <span class="fstat-no" title="function not covered" >e (a) { <span class="cstat-no" title="statement not covered" >this._state = !1, this._value = a, f.call(this); } </span>function <span class="fstat-no" title="function not covered" >f () { <span class="cstat-no" title="statement not covered" >for (var a = 0, b = this._deferreds.length; a &lt; b; a++)<span class="cstat-no" title="statement not covered" >c.call(this, this._deferreds[a]); <span class="cstat-no" title="statement not covered" >t</span>his._deferreds = null; } </span>function <span class="fstat-no" title="function not covered" >g (a, b, c, d) { <span class="cstat-no" title="statement not covered" >this.onFulfilled = typeof a === 'function' ? a : null, this.onRejected = typeof b === 'function' ? b : null, this.resolve = c, this.reject = d; } </span>function <span class="fstat-no" title="function not covered" >h (a, b, c) { var d = <span class="cstat-no" title="statement not covered" >!1; <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >a(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >d || (d = !0, b(a)); },</span> <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >d || (d = !0, c(a)); })</span>; } </span>catch (a) { <span class="cstat-no" title="statement not covered" >if (d) <span class="cstat-no" title="statement not covered" >return; <span class="cstat-no" title="statement not covered" >d</span></span> = !0, c(a); } </span>} <span class="cstat-no" title="statement not covered" ></span>if (window.Promise) <span class="cstat-no" title="statement not covered" >return window.Promise; v</span></span>ar i = <span class="cstat-no" title="statement not covered" >b.immediateFn || typeof setImmediate === 'function' &amp;&amp; setImmediate || <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >setTimeout(a, 1); },</span> j = <span class="cstat-no" title="statement not covered" >Array.isArray || <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return Object.prototype.toString.call(a) === '[object Array]'; };</span> <span class="cstat-no" title="statement not covered" >return b.prototype['catch'] = <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return this.then(null, a); },</span> b.prototype.then = <span class="fstat-no" title="function not covered" >function (</span>a, d) { var e = <span class="cstat-no" title="statement not covered" >this; <span class="cstat-no" title="statement not covered" >return new b(<span class="fstat-no" title="function not covered" >function (</span>b, f) { <span class="cstat-no" title="statement not covered" >c.call(e, new g(a, d, b, f)); })</span>; },</span> b.all = <span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" >Array.prototype.slice.call(arguments.length === 1 &amp;&amp; j(arguments[0]) ? arguments[0] : arguments); <span class="cstat-no" title="statement not covered" >return new b(<span class="fstat-no" title="function not covered" >function (</span>b, c) { function <span class="fstat-no" title="function not covered" >d (f, g) { <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >if (g &amp;&amp; (typeof g === 'object' || typeof g === 'function')) { var h = <span class="cstat-no" title="statement not covered" >g.then; <span class="cstat-no" title="statement not covered" >if (typeof h === 'function') <span class="cstat-no" title="statement not covered" >return void h.call(g, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >d(f, a); },</span> c); }<span class="cstat-no" title="statement not covered" >a</span></span></span>[f] = g, --e === 0 &amp;&amp; b(a); } </span>catch (a) { <span class="cstat-no" title="statement not covered" >c(a); } </span>} <span class="cstat-no" title="statement not covered" ></span>if (a.length === 0) <span class="cstat-no" title="statement not covered" >return b([]); <span class="cstat-no" title="statement not covered" >f</span></span>or (var e = a.length, f = 0; f &lt; a.length; f++)<span class="cstat-no" title="statement not covered" >d(f, a[f]); })</span>; },</span> b.resolve = <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a &amp;&amp; typeof a === 'object' &amp;&amp; a.constructor === b ? a : new b(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >b(a); })</span>; },</span> b.reject = <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return new b(<span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >c(a); })</span>; },</span> b.race = <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return new b(<span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >for (var d = 0, e = a.length; d &lt; e; d++)<span class="cstat-no" title="statement not covered" >a[d].then(b, c); })</span>; },</span> b; })</span>, g('12', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a, b) { <span class="cstat-no" title="statement not covered" >return e(document.createElement('canvas'), a, b); } </span>function <span class="fstat-no" title="function not covered" >b (b) { var d, e; <span class="cstat-no" title="statement not covered" >return d = a(b.width, b.height), e = c(d), e.drawImage(b, 0, 0), d; } </span>function <span class="fstat-no" title="function not covered" >c (a) { <span class="cstat-no" title="statement not covered" >return a.getContext('2d'); } </span>function <span class="fstat-no" title="function not covered" >d (a) { var b = <span class="cstat-no" title="statement not covered" >null; <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >b = a.getContext('webgl') || a.getContext('experimental-webgl'); } </span>catch (a) {} <span class="cstat-no" title="statement not covered" >r</span>eturn b || (b = null), b; } </span>function <span class="fstat-no" title="function not covered" >e (a, b, c) { <span class="cstat-no" title="statement not covered" >return a.width = b, a.height = c, a; } <span class="cstat-no" title="statement not covered" ></span>return {create: a, clone: b, resize: e, get2dContext: c, get3dContext: d}; })</span>, g('13', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a) { var b = <span class="cstat-no" title="statement not covered" >document.createElement('a'); <span class="cstat-no" title="statement not covered" >return b.href = a, b.pathname; } </span>function <span class="fstat-no" title="function not covered" >b (b) { var c, d, e, f; <span class="cstat-no" title="statement not covered" >return b.indexOf('data:') === 0 ? (b = b.split(','), f = /data:([^;]+)/.exec(b[0]), f ? f[1] : '') : (e = {jpg: 'image/jpeg', jpeg: 'image/jpeg', png: 'image/png'}, c = a(b).split('.'), d = c[c.length - 1], d &amp;&amp; (d = d.toLowerCase()), e[d]); } <span class="cstat-no" title="statement not covered" ></span>return {guessMimeType: b}; })</span>, g('14', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a) { <span class="cstat-no" title="statement not covered" >return a.naturalWidth || a.width; } </span>function <span class="fstat-no" title="function not covered" >b (a) { <span class="cstat-no" title="statement not covered" >return a.naturalHeight || a.height; } <span class="cstat-no" title="statement not covered" ></span>return {getWidth: a, getHeight: b}; })</span>, g('o', ['11', '12', '13', '14'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { function <span class="fstat-no" title="function not covered" >e (b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { function <span class="fstat-no" title="function not covered" >c () { <span class="cstat-no" title="statement not covered" >b.removeEventListener('load', c), a(b); }<span class="cstat-no" title="statement not covered" >b</span>.complete ? a(b) : b.addEventListener('load', c); })</span>; } </span>function <span class="fstat-no" title="function not covered" >f (a) { <span class="cstat-no" title="statement not covered" >return e(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var c, e; <span class="cstat-no" title="statement not covered" >return e = b.create(d.getWidth(a), d.getHeight(a)), c = b.get2dContext(e), c.drawImage(a, 0, 0), e; })</span>; } </span>function <span class="fstat-no" title="function not covered" >g (a) { <span class="cstat-no" title="statement not covered" >return e(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >a.src; <span class="cstat-no" title="statement not covered" >return b.indexOf('blob:') === 0 ? i(b) : b.indexOf('data:') === 0 ? k(b) : f(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return k(a.toDataURL(c.guessMimeType(b))); })</span>; })</span>; } </span>function <span class="fstat-no" title="function not covered" >h (b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { function <span class="fstat-no" title="function not covered" >c () { <span class="cstat-no" title="statement not covered" >d.removeEventListener('load', c), a(d); } </span>var d = <span class="cstat-no" title="statement not covered" >new Image(); <span class="cstat-no" title="statement not covered" >d.addEventListener('load', c), d.src = URL.createObjectURL(b), d.complete &amp;&amp; c(); })</span>; } </span>function <span class="fstat-no" title="function not covered" >i (b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { var c = <span class="cstat-no" title="statement not covered" >new XMLHttpRequest(); <span class="cstat-no" title="statement not covered" >c.open('GET', b, !0), c.responseType = 'blob', c.onload = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >this.status == 200 &amp;&amp; a(this.response); },</span> c.send(); })</span>; } </span>function <span class="fstat-no" title="function not covered" >j (a) { var b, c, d, e, f, g; <span class="cstat-no" title="statement not covered" >if (a = a.split(','), e = /data:([^;]+)/.exec(a[0]), e &amp;&amp; (f = e[1]), b = atob(a[1]), window.WebKitBlobBuilder) { <span class="cstat-no" title="statement not covered" >for (g = new WebKitBlobBuilder(), c = new ArrayBuffer(b.length), d = 0; d &lt; c.length; d++)<span class="cstat-no" title="statement not covered" >c[d] = b.charCodeAt(d); <span class="cstat-no" title="statement not covered" >r</span>eturn g.append(c), g.getBlob(f); } <span class="cstat-no" title="statement not covered" ></span>f</span>or (c = new Uint8Array(b.length), d = 0; d &lt; c.length; d++)<span class="cstat-no" title="statement not covered" >c[d] = b.charCodeAt(d); <span class="cstat-no" title="statement not covered" >r</span>eturn new Blob([c], {type: f}); } </span>function <span class="fstat-no" title="function not covered" >k (b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a(j(b)); })</span>; } </span>function <span class="fstat-no" title="function not covered" >l (a) { <span class="cstat-no" title="statement not covered" >return a.indexOf('blob:') === 0 ? i(a) : a.indexOf('data:') === 0 ? k(a) : null; } </span>function <span class="fstat-no" title="function not covered" >m (b, c, d) { <span class="cstat-no" title="statement not covered" >return c = c || 'image/png', HTMLCanvasElement.prototype.toBlob ? new a(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.toBlob(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >a(b); },</span> c, d); })</span> : k(b.toDataURL(c, d)); } </span>function <span class="fstat-no" title="function not covered" >n (b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { var c = <span class="cstat-no" title="statement not covered" >new FileReader(); <span class="cstat-no" title="statement not covered" >c.onloadend = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a(c.result); },</span> c.readAsDataURL(b); })</span>; } </span>function <span class="fstat-no" title="function not covered" >o (a) { <span class="cstat-no" title="statement not covered" >return n(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.split(',')[1]; })</span>; } </span>function <span class="fstat-no" title="function not covered" >p (a) { <span class="cstat-no" title="statement not covered" >URL.revokeObjectURL(a.src); } <span class="cstat-no" title="statement not covered" ></span>return {blobToImage: h, imageToBlob: g, blobToDataUri: n, blobToBase64: o, imageToCanvas: f, canvasToBlob: m, revokeImageUrl: p, uriToBlob: l, dataUriToBlobSync: j}; })</span>, g('p', ['11', 'o', '13', '12'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { function <span class="fstat-no" title="function not covered" >e (a, c) { function <span class="fstat-no" title="function not covered" >e () { <span class="cstat-no" title="statement not covered" >return c; } </span>function <span class="fstat-no" title="function not covered" >f (d, e) { <span class="cstat-no" title="statement not covered" >return b.canvasToBlob(a, d || c, e); } </span>function <span class="fstat-no" title="function not covered" >g (b, d) { <span class="cstat-no" title="statement not covered" >return a.toDataURL(b || c, d); } </span>function <span class="fstat-no" title="function not covered" >h (a, b) { <span class="cstat-no" title="statement not covered" >return g(a, b).split(',')[1]; } </span>function <span class="fstat-no" title="function not covered" >i () { <span class="cstat-no" title="statement not covered" >return d.clone(a); } <span class="cstat-no" title="statement not covered" ></span>return {getType: e, toBlob: f, toDataURL: g, toBase64: h, toCanvas: i}; } </span>function <span class="fstat-no" title="function not covered" >f (a) { <span class="cstat-no" title="statement not covered" >return b.blobToImage(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var c = <span class="cstat-no" title="statement not covered" >b.imageToCanvas(a); <span class="cstat-no" title="statement not covered" >return b.revokeImageUrl(a), c; })</span>.then(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return e(b, a.type); })</span>; } </span>function <span class="fstat-no" title="function not covered" >g (b, c) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a(e(b, c)); })</span>; } </span>function <span class="fstat-no" title="function not covered" >h (a) { var d = <span class="cstat-no" title="statement not covered" >c.guessMimeType(a.src); <span class="cstat-no" title="statement not covered" >return b.imageToCanvas(a).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return e(a, d); })</span>; } <span class="cstat-no" title="statement not covered" ></span>return {fromBlob: f, fromCanvas: g, fromImage: h}; })</span>, g('c', ['o', 'p'], <span class="fstat-no" title="function not covered" >function (</span>a, b) { var <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.blobToImage(b); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.imageToBlob(b); },</span> <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.blobToDataUri(b); },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.blobToBase64(b); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return b.fromBlob(a); },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (c) { <span class="cstat-no" title="statement not covered" >return a.uriToBlob(c).then(b.fromBlob); },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return b.fromImage(a); },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b, c) { <span class="cstat-no" title="statement not covered" >return a.toBlob(b, c); },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c, d) { <span class="cstat-no" title="statement not covered" >return a.dataUriToBlobSync(b.toDataURL(c, d)); };</span> <span class="cstat-no" title="statement not covered" >return {blobToImage: c, imageToBlob: d, blobToDataUri: e, blobToBase64: f, blobToImageResult: g, dataUriToImageResult: h, imageToImageResult: i, imageResultToBlob: j, imageResultToBlobSync: k}; })</span>, g('15', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a, b, c) { <span class="cstat-no" title="statement not covered" >return a = parseFloat(a), a &gt; c ? a = c : a &lt; b &amp;&amp; (a = b), a; } </span>function <span class="fstat-no" title="function not covered" >b () { <span class="cstat-no" title="statement not covered" >return [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]; } </span>function <span class="fstat-no" title="function not covered" >c (a, b) { var c, d, e, f, g = <span class="cstat-no" title="statement not covered" >[], h = <span class="cstat-no" title="statement not covered" >new Array(10); <span class="cstat-no" title="statement not covered" >for (c = 0; c &lt; 5; c++) { <span class="cstat-no" title="statement not covered" >for (d = 0; d &lt; 5; d++)<span class="cstat-no" title="statement not covered" >g[d] = b[d + 5 * c]; <span class="cstat-no" title="statement not covered" >f</span>or (d = 0; d &lt; 5; d++) { <span class="cstat-no" title="statement not covered" >for (f = 0, e = 0; e &lt; 5; e++)<span class="cstat-no" title="statement not covered" >f += a[d + 5 * e] * g[e]; <span class="cstat-no" title="statement not covered" >h</span>[d + 5 * c] = f; } </span>} <span class="cstat-no" title="statement not covered" ></span>r</span>eturn h; } </span>function <span class="fstat-no" title="function not covered" >d (b, c) { <span class="cstat-no" title="statement not covered" >return c = a(c, 0, 1), b.map(<span class="fstat-no" title="function not covered" >function (</span>b, d) { <span class="cstat-no" title="statement not covered" >return d % 6 === 0 ? b = 1 - (1 - b) * c : b *= c, a(b, 0, 1); })</span>; } </span>function <span class="fstat-no" title="function not covered" >e (b, d) { var e; <span class="cstat-no" title="statement not covered" >return d = a(d, -1, 1), d *= 100, d &lt; 0 ? e = 127 + d / 100 * 127 : (e = d % 1, e = e === 0 ? l[d] : l[Math.floor(d)] * (1 - e) + l[Math.floor(d) + 1] * e, e = 127 * e + 127), c(b, [e / 127, 0, 0, 0, 0.5 * (127 - e), 0, e / 127, 0, 0, 0.5 * (127 - e), 0, 0, e / 127, 0, 0.5 * (127 - e), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]); } </span>function <span class="fstat-no" title="function not covered" >f (b, d) { var e, f, g, h; <span class="cstat-no" title="statement not covered" >return d = a(d, -1, 1), e = 1 + (d &gt; 0 ? 3 * d : d), f = 0.3086, g = 0.6094, h = 0.082, c(b, [f * (1 - e) + e, g * (1 - e), h * (1 - e), 0, 0, f * (1 - e), g * (1 - e) + e, h * (1 - e), 0, 0, f * (1 - e), g * (1 - e), h * (1 - e) + e, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]); } </span>function <span class="fstat-no" title="function not covered" >g (b, d) { var e, f, g, h, i; <span class="cstat-no" title="statement not covered" >return d = a(d, -180, 180) / 180 * Math.PI, e = Math.cos(d), f = Math.sin(d), g = 0.213, h = 0.715, i = 0.072, c(b, [g + e * (1 - g) + f * -g, h + e * -h + f * -h, i + e * -i + f * (1 - i), 0, 0, g + e * -g + 0.143 * f, h + e * (1 - h) + 0.14 * f, i + e * -i + f * -0.283, 0, 0, g + e * -g + f * -(1 - g), h + e * -h + f * h, i + e * (1 - i) + f * i, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]); } </span>function <span class="fstat-no" title="function not covered" >h (b, d) { <span class="cstat-no" title="statement not covered" >return d = a(255 * d, -255, 255), c(b, [1, 0, 0, 0, d, 0, 1, 0, 0, d, 0, 0, 1, 0, d, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]); } </span>function <span class="fstat-no" title="function not covered" >i (b, d, e, f) { <span class="cstat-no" title="statement not covered" >return d = a(d, 0, 2), e = a(e, 0, 2), f = a(f, 0, 2), c(b, [d, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, f, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]); } </span>function <span class="fstat-no" title="function not covered" >j (b, e) { <span class="cstat-no" title="statement not covered" >return e = a(e, 0, 1), c(b, d([0.393, 0.769, 0.189, 0, 0, 0.349, 0.686, 0.168, 0, 0, 0.272, 0.534, 0.131, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], e)); } </span>function <span class="fstat-no" title="function not covered" >k (b, e) { <span class="cstat-no" title="statement not covered" >return e = a(e, 0, 1), c(b, d([0.33, 0.34, 0.33, 0, 0, 0.33, 0.34, 0.33, 0, 0, 0.33, 0.34, 0.33, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], e)); } </span>var l = <span class="cstat-no" title="statement not covered" >[0, 0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1, 0.11, 0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.2, 0.21, 0.22, 0.24, 0.25, 0.27, 0.28, 0.3, 0.32, 0.34, 0.36, 0.38, 0.4, 0.42, 0.44, 0.46, 0.48, 0.5, 0.53, 0.56, 0.59, 0.62, 0.65, 0.68, 0.71, 0.74, 0.77, 0.8, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10]; <span class="cstat-no" title="statement not covered" >return {identity: b, adjust: d, multiply: c, adjustContrast: e, adjustBrightness: h, adjustSaturation: f, adjustHue: g, adjustColors: i, adjustSepia: j, adjustGrayscale: k}; })</span>, g('q', ['12', 'p', '15'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c) { function <span class="fstat-no" title="function not covered" >d (c, d) { function <span class="fstat-no" title="function not covered" >e (a, b) { var c, d, e, f, g, h = <span class="cstat-no" title="statement not covered" >a.data, i = <span class="cstat-no" title="statement not covered" >b[0], j = <span class="cstat-no" title="statement not covered" >b[1], k = <span class="cstat-no" title="statement not covered" >b[2], l = <span class="cstat-no" title="statement not covered" >b[3], m = <span class="cstat-no" title="statement not covered" >b[4], n = <span class="cstat-no" title="statement not covered" >b[5], o = <span class="cstat-no" title="statement not covered" >b[6], p = <span class="cstat-no" title="statement not covered" >b[7], q = <span class="cstat-no" title="statement not covered" >b[8], r = <span class="cstat-no" title="statement not covered" >b[9], s = <span class="cstat-no" title="statement not covered" >b[10], t = <span class="cstat-no" title="statement not covered" >b[11], u = <span class="cstat-no" title="statement not covered" >b[12], v = <span class="cstat-no" title="statement not covered" >b[13], w = <span class="cstat-no" title="statement not covered" >b[14], x = <span class="cstat-no" title="statement not covered" >b[15], y = <span class="cstat-no" title="statement not covered" >b[16], z = <span class="cstat-no" title="statement not covered" >b[17], A = <span class="cstat-no" title="statement not covered" >b[18], B = <span class="cstat-no" title="statement not covered" >b[19]; <span class="cstat-no" title="statement not covered" >for (g = 0; g &lt; h.length; g += 4)<span class="cstat-no" title="statement not covered" >c = h[g], d = h[g + 1], e = h[g + 2], f = h[g + 3], h[g] = c * i + d * j + e * k + f * l + m, h[g + 1] = c * n + d * o + e * p + f * q + r, h[g + 2] = c * s + d * t + e * u + f * v + w, h[g + 3] = c * x + d * y + e * z + f * A + B; <span class="cstat-no" title="statement not covered" >r</span>eturn a; } </span>var f, g = <span class="cstat-no" title="statement not covered" >c.toCanvas(), h = <span class="cstat-no" title="statement not covered" >a.get2dContext(g); <span class="cstat-no" title="statement not covered" >return f = e(h.getImageData(0, 0, g.width, g.height), d), h.putImageData(f, 0, 0), b.fromCanvas(g, c.getType()); } </span>function <span class="fstat-no" title="function not covered" >e (c, d) { function <span class="fstat-no" title="function not covered" >e (a, b, c) { function <span class="fstat-no" title="function not covered" >d (a, b, c) { <span class="cstat-no" title="statement not covered" >return a &gt; c ? a = c : a &lt; b &amp;&amp; (a = b), a; } </span>var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u; <span class="cstat-no" title="statement not covered" >for (g = Math.round(Math.sqrt(c.length)), h = Math.floor(g / 2), e = a.data, f = b.data, t = a.width, u = a.height, j = 0; j &lt; u; j++) <span class="cstat-no" title="statement not covered" >for (i = 0; i &lt; t; i++) { <span class="cstat-no" title="statement not covered" >for (k = l = m = 0, o = 0; o &lt; g; o++) <span class="cstat-no" title="statement not covered" >for (n = 0; n &lt; g; n++)<span class="cstat-no" title="statement not covered" >p = d(i + n - h, 0, t - 1), q = d(j + o - h, 0, u - 1), r = 4 * (q * t + p), s = c[o * g + n], k += e[r] * s, l += e[r + 1] * s, m += e[r + 2] * s; <span class="cstat-no" title="statement not covered" >r</span> = 4 * (j * t + i), f[r] = d(k, 0, 255), f[r + 1] = d(l, 0, 255), f[r + 2] = d(m, 0, 255); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn b; } </span>var f, g, h = <span class="cstat-no" title="statement not covered" >c.toCanvas(), i = <span class="cstat-no" title="statement not covered" >a.get2dContext(h); <span class="cstat-no" title="statement not covered" >return f = i.getImageData(0, 0, h.width, h.height), g = i.getImageData(0, 0, h.width, h.height), g = e(f, g, d), i.putImageData(g, 0, 0), b.fromCanvas(h, c.getType()); } </span>function <span class="fstat-no" title="function not covered" >f (c) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>d, e) { function <span class="fstat-no" title="function not covered" >f (a, b) { var c, d = <span class="cstat-no" title="statement not covered" >a.data; <span class="cstat-no" title="statement not covered" >for (c = 0; c &lt; d.length; c += 4)<span class="cstat-no" title="statement not covered" >d[c] = b[d[c]], d[c + 1] = b[d[c + 1]], d[c + 2] = b[d[c + 2]]; <span class="cstat-no" title="statement not covered" >r</span>eturn a; } </span>var g, h, i = <span class="cstat-no" title="statement not covered" >d.toCanvas(), j = <span class="cstat-no" title="statement not covered" >a.get2dContext(i), k = <span class="cstat-no" title="statement not covered" >new Array(256); <span class="cstat-no" title="statement not covered" >for (h = 0; h &lt; k.length; h++)<span class="cstat-no" title="statement not covered" >k[h] = c(h, e); <span class="cstat-no" title="statement not covered" >r</span>eturn g = f(j.getImageData(0, 0, i.width, i.height), k), j.putImageData(g, 0, 0), b.fromCanvas(i, d.getType()); };</span> } </span>function <span class="fstat-no" title="function not covered" >g (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>b, e) { <span class="cstat-no" title="statement not covered" >return d(b, a(c.identity(), e)); };</span> } </span>function <span class="fstat-no" title="function not covered" >h (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return d(b, a); };</span> } </span>function <span class="fstat-no" title="function not covered" >i (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return e(b, a); };</span> } <span class="cstat-no" title="statement not covered" ></span>return {invert: h([-1, 0, 0, 0, 255, 0, -1, 0, 0, 255, 0, 0, -1, 0, 255, 0, 0, 0, 1, 0]), brightness: g(c.adjustBrightness), hue: g(c.adjustHue), saturate: g(c.adjustSaturation), contrast: g(c.adjustContrast), grayscale: g(c.adjustGrayscale), sepia: g(c.adjustSepia), colorize: <span class="fstat-no" title="function not covered" >function (</span>a, b, e, f) { <span class="cstat-no" title="statement not covered" >return d(a, c.adjustColors(c.identity(), b, e, f)); },</span> sharpen: i([0, -1, 0, -1, 5, -1, 0, -1, 0]), emboss: i([-2, -1, 0, -1, 1, 1, 0, 1, 2]), gamma: f(<span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >return 255 * Math.pow(a / 255, 1 - b); })</span>, exposure: f(<span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >return 255 * (1 - Math.exp(-(a / 255) * b)); })</span>, colorFilter: d, convoluteFilter: e}; })</span>, g('16', ['11', 'o', '12', '14'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { function <span class="fstat-no" title="function not covered" >e (a, b, c) { var g = <span class="cstat-no" title="statement not covered" >d.getWidth(a), h = <span class="cstat-no" title="statement not covered" >d.getHeight(a), i = <span class="cstat-no" title="statement not covered" >b / g, j = <span class="cstat-no" title="statement not covered" >c / h, k = <span class="cstat-no" title="statement not covered" >!1; <span class="cstat-no" title="statement not covered" >(i &lt; 0.5 || i &gt; 2) &amp;&amp; (i = i &lt; 0.5 ? 0.5 : 2, k = !0), (j &lt; 0.5 || j &gt; 2) &amp;&amp; (j = j &lt; 0.5 ? 0.5 : 2, k = !0); v</span>ar l = <span class="cstat-no" title="statement not covered" >f(a, i, j); <span class="cstat-no" title="statement not covered" >return k ? l.then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return e(a, b, c); })</span> : l; } </span>function <span class="fstat-no" title="function not covered" >f (b, e, f) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { var g = <span class="cstat-no" title="statement not covered" >d.getWidth(b), h = <span class="cstat-no" title="statement not covered" >d.getHeight(b), i = <span class="cstat-no" title="statement not covered" >Math.floor(g * e), j = <span class="cstat-no" title="statement not covered" >Math.floor(h * f), k = <span class="cstat-no" title="statement not covered" >c.create(i, j), l = <span class="cstat-no" title="statement not covered" >c.get2dContext(k); <span class="cstat-no" title="statement not covered" >l.drawImage(b, 0, 0, g, h, 0, 0, i, j), a(k); })</span>; } <span class="cstat-no" title="statement not covered" ></span>return {scale: e}; })</span>, g('r', ['12', 'p', '16'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c) { function <span class="fstat-no" title="function not covered" >d (c, d) { var e = <span class="cstat-no" title="statement not covered" >c.toCanvas(), f = <span class="cstat-no" title="statement not covered" >a.create(e.width, e.height), g = <span class="cstat-no" title="statement not covered" >a.get2dContext(f), h = <span class="cstat-no" title="statement not covered" >0, i = <span class="cstat-no" title="statement not covered" >0; <span class="cstat-no" title="statement not covered" >return d = d &lt; 0 ? 360 + d : d, d != 90 &amp;&amp; d != 270 || a.resize(f, f.height, f.width), d != 90 &amp;&amp; d != 180 || (h = f.width), d != 270 &amp;&amp; d != 180 || (i = f.height), g.translate(h, i), g.rotate(d * Math.PI / 180), g.drawImage(e, 0, 0), b.fromCanvas(f, c.getType()); } </span>function <span class="fstat-no" title="function not covered" >e (c, d) { var e = <span class="cstat-no" title="statement not covered" >c.toCanvas(), f = <span class="cstat-no" title="statement not covered" >a.create(e.width, e.height), g = <span class="cstat-no" title="statement not covered" >a.get2dContext(f); <span class="cstat-no" title="statement not covered" >return d == 'v' ? (g.scale(1, -1), g.drawImage(e, 0, -f.height)) : (g.scale(-1, 1), g.drawImage(e, -f.width, 0)), b.fromCanvas(f, c.getType()); } </span>function <span class="fstat-no" title="function not covered" >f (c, d, e, f, g) { var h = <span class="cstat-no" title="statement not covered" >c.toCanvas(), i = <span class="cstat-no" title="statement not covered" >a.create(f, g), j = <span class="cstat-no" title="statement not covered" >a.get2dContext(i); <span class="cstat-no" title="statement not covered" >return j.drawImage(h, -d, -e), b.fromCanvas(i, c.getType()); } </span>function <span class="fstat-no" title="function not covered" >g (a, d, e) { <span class="cstat-no" title="statement not covered" >return c.scale(a.toCanvas(), d, e).then(<span class="fstat-no" title="function not covered" >function (</span>c) { <span class="cstat-no" title="statement not covered" >return b.fromCanvas(c, a.getType()); })</span>; } <span class="cstat-no" title="statement not covered" ></span>return {rotate: d, flip: e, crop: f, resize: g}; })</span>, g('d', ['q', 'r'], <span class="fstat-no" title="function not covered" >function (</span>a, b) { var <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.invert(b); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.sharpen(b); },</span> <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return a.emboss(b); },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.gamma(b, c); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.exposure(b, c); },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c, d, e) { <span class="cstat-no" title="statement not covered" >return a.colorize(b, c, d, e); },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.brightness(b, c); },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.hue(b, c); },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.saturate(b, c); },</span> <span class="fstat-no" title="function not covered" >l = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.contrast(b, c); },</span> <span class="fstat-no" title="function not covered" >m = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.grayscale(b, c); },</span> <span class="fstat-no" title="function not covered" >n = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return a.sepia(b, c); },</span> <span class="fstat-no" title="function not covered" >o = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c) { <span class="cstat-no" title="statement not covered" >return b.flip(a, c); },</span> <span class="fstat-no" title="function not covered" >p = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c, d, e, f) { <span class="cstat-no" title="statement not covered" >return b.crop(a, c, d, e, f); },</span> <span class="fstat-no" title="function not covered" >q = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c, d) { <span class="cstat-no" title="statement not covered" >return b.resize(a, c, d); },</span> <span class="fstat-no" title="function not covered" >r = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c) { <span class="cstat-no" title="statement not covered" >return b.rotate(a, c); };</span> <span class="cstat-no" title="statement not covered" >return {invert: c, sharpen: d, emboss: e, brightness: i, hue: j, saturate: k, contrast: l, grayscale: m, sepia: n, colorize: h, gamma: f, exposure: g, flip: o, crop: p, resize: q, rotate: r}; })</span>, h('e', Array), h('f', Error), g('a', ['e', 'f'], <span class="fstat-no" title="function not covered" >function (</span>a, b) { var <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction () {}, <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return a(b.apply(null, arguments)); };</span> },</span> <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return a; };</span> },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a; },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return a === b; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >for (var c = new a(arguments.length - 1), d = 1; d &lt; arguments.length; d++)<span class="cstat-no" title="statement not covered" >c[d - 1] = arguments[d]; <span class="cstat-no" title="statement not covered" >r</span>eturn <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >for (var d = new a(arguments.length), e = 0; e &lt; d.length; e++)<span class="cstat-no" title="statement not covered" >d[e] = arguments[e]; v</span>ar f = <span class="cstat-no" title="statement not covered" >c.concat(d); <span class="cstat-no" title="statement not covered" >return b.apply(null, f); };</span> },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return !a.apply(null, arguments); };</span> },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >throw new b(a); };</span> },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a(); },</span> <span class="fstat-no" title="function not covered" >l = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >a(); },</span> m = <span class="cstat-no" title="statement not covered" >e(!1), n = <span class="cstat-no" title="statement not covered" >e(!0); <span class="cstat-no" title="statement not covered" >return {noop: c, compose: d, constant: e, identity: f, tripleEquals: g, curry: h, not: i, die: j, apply: k, call: l, never: m, always: n}; })</span>, g('1g', [], <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return typeof window !== 'undefined' ? window : Function('return this;')(); })</span>, g('17', ['1g'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >for (var d = void 0 !== c ? c : a, e = 0; e &lt; b.length &amp;&amp; void 0 !== d &amp;&amp; d !== null; ++e)<span class="cstat-no" title="statement not covered" >d = d[b[e]]; <span class="cstat-no" title="statement not covered" >r</span>eturn d; },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, c) { var d = <span class="cstat-no" title="statement not covered" >a.split('.'); <span class="cstat-no" title="statement not covered" >return b(d, c); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return void 0 !== a[b] &amp;&amp; a[b] !== null || (a[b] = {}), a[b]; },</span> e = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >for (var e = void 0 !== c ? c : a, f = 0; f &lt; b.length; ++f)<span class="cstat-no" title="statement not covered" >e = d(e, b[f]); <span class="cstat-no" title="statement not covered" >r</span>eturn e; },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >a.split('.'); <span class="cstat-no" title="statement not covered" >return e(c, b); };</span> <span class="cstat-no" title="statement not covered" >return {path: b, resolve: c, forge: e, namespace: f}; })</span>, g('s', ['17'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >return a.resolve(b, c); },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, c) { var d = <span class="cstat-no" title="statement not covered" >b(a, c); <span class="cstat-no" title="statement not covered" >if (void 0 === d) <span class="cstat-no" title="statement not covered" >throw a + ' not available on this browser'; <span class="cstat-no" title="statement not covered" >r</span></span>eturn d; };</span> <span class="cstat-no" title="statement not covered" >return {getOrDie: c}; })</span>, g('g', ['s'], <span class="fstat-no" title="function not covered" >function (</span>a) { var <span class="fstat-no" title="function not covered" >b = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return a.getOrDie('URL'); },</span> <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return b().createObjectURL(a); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >b().revokeObjectURL(a); };</span> <span class="cstat-no" title="statement not covered" >return {createObjectURL: c, revokeObjectURL: d}; })</span>, h('h', clearTimeout), g('i', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Delay'); })</span>, g('j', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Promise'); })</span>, g('k', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.URI'); })</span>, g('b', [], <span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.getParam('imagetools_toolbar', 'rotateleft rotateright | flipv fliph | crop editimage imageoptions'); },</span> <span class="fstat-no" title="function not covered" >b = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('imagetools_proxy'); };</span> <span class="cstat-no" title="statement not covered" >return {getToolbarItems: a, getProxyUrl: b}; })</span>, g('l', [], <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a) { function <span class="fstat-no" title="function not covered" >b (a) { <span class="cstat-no" title="statement not covered" >return /^[0-9\.]+px$/.test(a); } </span>var c, d; <span class="cstat-no" title="statement not covered" >return c = a.style.width, d = a.style.height, c || d ? b(c) &amp;&amp; b(d) ? {w: parseInt(c, 10), h: parseInt(d, 10)} : null : (c = a.width, d = a.height, c &amp;&amp; d ? {w: parseInt(c, 10), h: parseInt(d, 10)} : null); } </span>function <span class="fstat-no" title="function not covered" >b (a, b) { var c, d; <span class="cstat-no" title="statement not covered" >b &amp;&amp; (c = a.style.width, d = a.style.height, (c || d) &amp;&amp; (a.style.width = b.w + 'px', a.style.height = b.h + 'px', a.removeAttribute('data-mce-style')), c = a.width, d = a.height, (c || d) &amp;&amp; (a.setAttribute('width', b.w), a.setAttribute('height', b.h))); } </span>function <span class="fstat-no" title="function not covered" >c (a) { <span class="cstat-no" title="statement not covered" >return {w: a.naturalWidth, h: a.naturalHeight}; } <span class="cstat-no" title="statement not covered" ></span>return {getImageSize: a, setImageSize: b, getNaturalImageSize: c}; })</span>, h('1m', Object), g('1h', ['a', '1m'], <span class="fstat-no" title="function not covered" >function (</span>a, b) { var c = <span class="cstat-no" title="statement not covered" >a.never, d = <span class="cstat-no" title="statement not covered" >a.always, <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return f; },</span> f = (<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function () </span>{ var <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.isNone(); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a(); },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a; },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction () {}, j = <span class="cstat-no" title="statement not covered" >{fold: <span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >return a(); },</span> is: c, isSome: c, isNone: d, getOr: h, getOrThunk: g, getOrDie: <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >throw new Error(a || 'error: getOrDie called on none.'); },</span> or: h, orThunk: g, map: e, ap: e, each: i, bind: e, flatten: e, exists: c, forall: d, filter: e, equals: f, equals_: f, toArray: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return []; },</span> toString: a.constant('none()')}; <span class="cstat-no" title="statement not covered" >return b.freeze &amp;&amp; b.freeze(j), j; }(</span>)), <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var <span class="fstat-no" title="function not covered" >b = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return a; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return k; },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return g(b(a)); },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return b(a); },</span> k = <span class="cstat-no" title="statement not covered" >{fold: <span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >return c(a); },</span> is: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return a === b; },</span> isSome: d, isNone: c, getOr: b, getOrThunk: b, getOrDie: b, or: h, orThunk: h, map: i, ap: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b.fold(e, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return g(b(a)); })</span>; },</span> each: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >b(a); },</span> bind: j, flatten: b, exists: j, forall: j, filter: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b(a) ? k : f; },</span> equals: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b.is(a); },</span> equals_: <span class="fstat-no" title="function not covered" >function (</span>b, d) { <span class="cstat-no" title="statement not covered" >return b.fold(c, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return d(a, b); })</span>; },</span> toArray: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return [a]; },</span> toString: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return 'some(' + a + ')'; }}</span>; <span class="cstat-no" title="statement not covered" >return k; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a === null || void 0 === a ? f : g(a); };</span> <span class="cstat-no" title="statement not covered" >return {some: g, none: e, from: h}; })</span>, h('1i', String), g('18', ['1h', 'e', 'f', '1i'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { var e = (<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" >b.prototype.indexOf, c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >return a.call(b, c); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return u(a, b); };</span> <span class="cstat-no" title="statement not covered" >return void 0 === a ? d : c; }(</span>)), <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { var d = <span class="cstat-no" title="statement not covered" >e(b, c); <span class="cstat-no" title="statement not covered" >return d === -1 ? a.none() : a.some(d); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return e(a, b) &gt; -1; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return t(a, b).isSome(); },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = [], d = 0; d &lt; a; d++)<span class="cstat-no" title="statement not covered" >c.push(b(d)); <span class="cstat-no" title="statement not covered" >r</span>eturn c; },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = [], d = 0; d &lt; a.length; d += b) { var e = <span class="cstat-no" title="statement not covered" >a.slice(d, d + b); <span class="cstat-no" title="statement not covered" >c.push(e); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn c; },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c) { <span class="cstat-no" title="statement not covered" >for (var d = a.length, e = new b(d), f = 0; f &lt; d; f++) { var g = <span class="cstat-no" title="statement not covered" >a[f]; <span class="cstat-no" title="statement not covered" >e[f] = c(g, f, a); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn e; },</span> <span class="fstat-no" title="function not covered" >l = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = 0, d = a.length; c &lt; d; c++) { var e = <span class="cstat-no" title="statement not covered" >a[c]; <span class="cstat-no" title="statement not covered" >b(e, c, a); } </span>},</span> <span class="fstat-no" title="function not covered" >m = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = a.length - 1; c &gt;= 0; c--) { var d = <span class="cstat-no" title="statement not covered" >a[c]; <span class="cstat-no" title="statement not covered" >b(d, c, a); } </span>},</span> <span class="fstat-no" title="function not covered" >n = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = [], d = [], e = 0, f = a.length; e &lt; f; e++) { var g = <span class="cstat-no" title="statement not covered" >a[e], h = <span class="cstat-no" title="statement not covered" >b(g, e, a) ? c : d; <span class="cstat-no" title="statement not covered" >h.push(g); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn {pass: c, fail: d}; },</span> <span class="fstat-no" title="function not covered" >o = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = [], d = 0, e = a.length; d &lt; e; d++) { var f = <span class="cstat-no" title="statement not covered" >a[d]; <span class="cstat-no" title="statement not covered" >b(f, d, a) &amp;&amp; c.push(f); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn c; },</span> <span class="fstat-no" title="function not covered" >p = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >if (a.length === 0) <span class="cstat-no" title="statement not covered" >return []; <span class="cstat-no" title="statement not covered" >f</span></span>or (var c = b(a[0]), d = [], e = [], f = 0, g = a.length; f &lt; g; f++) { var h = <span class="cstat-no" title="statement not covered" >a[f], i = <span class="cstat-no" title="statement not covered" >b(h); <span class="cstat-no" title="statement not covered" >i !== c &amp;&amp; (d.push(e), e = []), c = i, e.push(h); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn e.length !== 0 &amp;&amp; d.push(e), d; },</span> <span class="fstat-no" title="function not covered" >q = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b, c) { <span class="cstat-no" title="statement not covered" >return m(a, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >c = b(c, a); })</span>, c; },</span> <span class="fstat-no" title="function not covered" >r = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b, c) { <span class="cstat-no" title="statement not covered" >return l(a, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >c = b(c, a); })</span>, c; },</span> <span class="fstat-no" title="function not covered" >s = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >for (var d = 0, e = b.length; d &lt; e; d++) { var f = <span class="cstat-no" title="statement not covered" >b[d]; <span class="cstat-no" title="statement not covered" >if (c(f, d, b)) <span class="cstat-no" title="statement not covered" >return a.some(f); } <span class="cstat-no" title="statement not covered" ></span></span>r</span>eturn a.none(); },</span> <span class="fstat-no" title="function not covered" >t = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >for (var d = 0, e = b.length; d &lt; e; d++) { var f = <span class="cstat-no" title="statement not covered" >b[d]; <span class="cstat-no" title="statement not covered" >if (c(f, d, b)) <span class="cstat-no" title="statement not covered" >return a.some(d); } <span class="cstat-no" title="statement not covered" ></span></span>r</span>eturn a.none(); },</span> <span class="fstat-no" title="function not covered" >u = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = 0, d = a.length; c &lt; d; ++c) <span class="cstat-no" title="statement not covered" >if (a[c] === b) <span class="cstat-no" title="statement not covered" >return c; <span class="cstat-no" title="statement not covered" >r</span>eturn -1; },</span> v = <span class="cstat-no" title="statement not covered" >b.prototype.push, <span class="fstat-no" title="function not covered" >w = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >for (var d = [], e = 0, f = a.length; e &lt; f; ++e) { <span class="cstat-no" title="statement not covered" >if (!b.prototype.isPrototypeOf(a[e])) <span class="cstat-no" title="statement not covered" >throw new c('Arr.flatten item ' + e + ' was not an array, input: ' + a); <span class="cstat-no" title="statement not covered" >v</span></span>.apply(d, a[e]); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn d; },</span> <span class="fstat-no" title="function not covered" >x = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >k(a, b); <span class="cstat-no" title="statement not covered" >return w(c); },</span> <span class="fstat-no" title="function not covered" >y = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = 0, d = a.length; c &lt; d; ++c) { var e = <span class="cstat-no" title="statement not covered" >a[c]; <span class="cstat-no" title="statement not covered" >if (b(e, c, a) !== !0) <span class="cstat-no" title="statement not covered" >return !1; } <span class="cstat-no" title="statement not covered" ></span></span>r</span>eturn !0; },</span> <span class="fstat-no" title="function not covered" >z = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return a.length === b.length &amp;&amp; y(a, <span class="fstat-no" title="function not covered" >function (</span>a, c) { <span class="cstat-no" title="statement not covered" >return a === b[c]; })</span>; },</span> A = <span class="cstat-no" title="statement not covered" >b.prototype.slice, <span class="fstat-no" title="function not covered" >B = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var b = <span class="cstat-no" title="statement not covered" >A.call(a, 0); <span class="cstat-no" title="statement not covered" >return b.reverse(), b; },</span> <span class="fstat-no" title="function not covered" >C = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return o(a, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return !g(b, a); })</span>; },</span> <span class="fstat-no" title="function not covered" >D = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >for (var c = {}, e = 0, f = a.length; e &lt; f; e++) { var g = <span class="cstat-no" title="statement not covered" >a[e]; <span class="cstat-no" title="statement not covered" >c[d(g)] = b(g, e); } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn c; },</span> <span class="fstat-no" title="function not covered" >E = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return [a]; },</span> <span class="fstat-no" title="function not covered" >F = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >A.call(a, 0); <span class="cstat-no" title="statement not covered" >return c.sort(b), c; },</span> <span class="fstat-no" title="function not covered" >G = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return b.length === 0 ? a.none() : a.some(b[0]); },</span> <span class="fstat-no" title="function not covered" >H = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return b.length === 0 ? a.none() : a.some(b[b.length - 1]); };</span> <span class="cstat-no" title="statement not covered" >return {map: k, each: l, eachr: m, partition: n, filter: o, groupBy: p, indexOf: f, foldr: q, foldl: r, find: s, findIndex: t, flatten: w, bind: x, forall: y, exists: h, contains: g, equal: z, reverse: B, chunk: j, difference: C, mapToObject: D, pure: E, sort: F, range: i, head: G, last: H}; })</span>, g('19', ['s'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var b = <span class="cstat-no" title="statement not covered" >a.getOrDie('FileReader'); <span class="cstat-no" title="statement not covered" >return new b(); };</span> })</span>, g('1a', ['s'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var b = <span class="cstat-no" title="statement not covered" >a.getOrDie('XMLHttpRequest'); <span class="cstat-no" title="statement not covered" >return new b(); };</span> })</span>, g('u', ['19', '1a', 'j', '8'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { var <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a !== null &amp;&amp; void 0 !== a; },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c; <span class="cstat-no" title="statement not covered" >return c = b.reduce(<span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >return e(a) ? a[b] : void 0; },</span> a), e(c) ? c : null; },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a, e) { <span class="cstat-no" title="statement not covered" >return new c(<span class="fstat-no" title="function not covered" >function (</span>c) { var f; <span class="cstat-no" title="statement not covered" >f = new b(), f.onreadystatechange = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >f.readyState === 4 &amp;&amp; c({status: f.status, blob: this.response}); },</span> f.open('GET', a, !0), d.each(e, <span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >f.setRequestHeader(b, a); })</span>, f.responseType = 'blob', f.send(); })</span>; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return new c(<span class="fstat-no" title="function not covered" >function (</span>c) { var d = <span class="cstat-no" title="statement not covered" >new a(); <span class="cstat-no" title="statement not covered" >d.onload = <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >a.target; <span class="cstat-no" title="statement not covered" >c(b.result); },</span> d.readAsText(b); })</span>; },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var b; <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >b = JSON.parse(a); } </span>catch (a) {} <span class="cstat-no" title="statement not covered" >r</span>eturn b; };</span> <span class="cstat-no" title="statement not covered" >return {traverse: f, readBlob: h, requestUrlAsBlob: g, parseJson: i}; })</span>, g('t', ['18', 'a', 'j', 'u'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { var e = <span class="cstat-no" title="statement not covered" >[{code: 404, message: 'Could not find Image Proxy'}, {code: 403, message: 'Rejected request'}, {code: 0, message: 'Incorrect Image Proxy URL'}], f = <span class="cstat-no" title="statement not covered" >[{type: 'key_missing', message: 'The request did not include an api key.'}, {type: 'key_not_found', message: 'The provided api key could not be found.'}, {type: 'domain_not_trusted', message: 'The api key is not valid for the request origins.'}], <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a === 400 || a === 403 || a === 500; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (c) { var d = <span class="cstat-no" title="statement not covered" >a.find(e, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return c === a.code; })</span>.fold(b.constant('Unknown ImageProxy error'), <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.message; })</span>; <span class="cstat-no" title="statement not covered" >return 'ImageProxy HTTP error: ' + d; },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var b = <span class="cstat-no" title="statement not covered" >h(a); <span class="cstat-no" title="statement not covered" >return c.reject(b); },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (c) { <span class="cstat-no" title="statement not covered" >return a.find(f, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.type === c; })</span>.fold(b.constant('Unknown service error'), <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.message; })</span>; },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var b = <span class="cstat-no" title="statement not covered" >d.parseJson(a), c = <span class="cstat-no" title="statement not covered" >d.traverse(b, ['error', 'type']), e = <span class="cstat-no" title="statement not covered" >c ? j(c) : 'Invalid JSON in service error message'; <span class="cstat-no" title="statement not covered" >return 'ImageProxy Service error: ' + e; },</span> <span class="fstat-no" title="function not covered" >l = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return d.readBlob(b).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >k(a); <span class="cstat-no" title="statement not covered" >return c.reject(b); })</span>; },</span> <span class="fstat-no" title="function not covered" >m = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return g(a) ? l(a, b) : i(a); };</span> <span class="cstat-no" title="statement not covered" >return {handleServiceErrorResponse: m, handleHttpError: i, getHttpErrorMsg: h, getServiceErrorMsg: j}; })</span>, g('m', ['j', '8', 't', 'u'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { function <span class="fstat-no" title="function not covered" >e (b) { <span class="cstat-no" title="statement not covered" >return d.requestUrlAsBlob(b, {}).then(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b.status &lt; 200 || b.status &gt;= 300 ? c.handleHttpError(b.status) : a.resolve(b.blob); })</span>; } </span>var <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >a.indexOf('?') === -1 ? '?' : '&amp;'; <span class="cstat-no" title="statement not covered" >return /[?&amp;]apiKey=/.test(a) || !b ? a : a + c + 'apiKey=' + encodeURIComponent(b); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (b, e) { <span class="cstat-no" title="statement not covered" >return d.requestUrlAsBlob(f(b, e), {'Content-Type': 'application/json;charset=UTF-8', 'tiny-api-key': e}).then(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b.status &lt; 200 || b.status &gt;= 300 ? c.handleServiceErrorResponse(b.status, b.blob) : a.resolve(b.blob); })</span>; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return b ? g(a, b) : e(a); };</span> <span class="cstat-no" title="statement not covered" >return {getUrl: h}; })</span>, h('v', Math), h('w', setTimeout), g('x', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.dom.DOMUtils'); })</span>, g('y', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.ui.Factory'); })</span>, g('z', [], <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a) { var b; <span class="cstat-no" title="statement not covered" >return b = f.splice(++g), f.push(a), {state: a, removed: b}; } </span>function <span class="fstat-no" title="function not covered" >b () { <span class="cstat-no" title="statement not covered" >if (d()) <span class="cstat-no" title="statement not covered" >return f[--g]; } </span></span>function <span class="fstat-no" title="function not covered" >c () { <span class="cstat-no" title="statement not covered" >if (e()) <span class="cstat-no" title="statement not covered" >return f[++g]; } </span></span>function <span class="fstat-no" title="function not covered" >d () { <span class="cstat-no" title="statement not covered" >return g &gt; 0; } </span>function <span class="fstat-no" title="function not covered" >e () { <span class="cstat-no" title="statement not covered" >return g !== -1 &amp;&amp; g &lt; f.length - 1; } </span>var f = <span class="cstat-no" title="statement not covered" >[], g = <span class="cstat-no" title="statement not covered" >-1; <span class="cstat-no" title="statement not covered" >return {data: f, add: a, undo: b, redo: c, canUndo: d, canRedo: e}; };</span> })</span>, h('1b', document), h('1c', Image), g('1d', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.geom.Rect'); })</span>, g('1e', ['j'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return new a(<span class="fstat-no" title="function not covered" >function (</span>a) { var <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >b.removeEventListener('load', c), a(b); };</span> <span class="cstat-no" title="statement not covered" >b.complete ? a(b) : b.addEventListener('load', c); })</span>; };</span> <span class="cstat-no" title="statement not covered" >return {loadImage: b}; })</span>, g('1j', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.dom.DomQuery'); })</span>, g('1k', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Observable'); })</span>, g('1l', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.VK'); })</span>, g('1f', ['1j', '1d', 'y', '1k', '8', '1l'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f) { var g = <span class="cstat-no" title="statement not covered" >0; <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>h, i, j, k, l) { function <span class="fstat-no" title="function not covered" >m (a, b) { <span class="cstat-no" title="statement not covered" >return {x: b.x + a.x, y: b.y + a.y, w: b.w, h: b.h}; } </span>function <span class="fstat-no" title="function not covered" >n (a, b) { <span class="cstat-no" title="statement not covered" >return {x: b.x - a.x, y: b.y - a.y, w: b.w, h: b.h}; } </span>function <span class="fstat-no" title="function not covered" >o () { <span class="cstat-no" title="statement not covered" >return n(j, h); } </span>function <span class="fstat-no" title="function not covered" >p (a, c, d, e) { var f, g, i, k, l; <span class="cstat-no" title="statement not covered" >f = c.x, g = c.y, i = c.w, k = c.h, f += d * a.deltaX, g += e * a.deltaY, i += d * a.deltaW, k += e * a.deltaH, i &lt; 20 &amp;&amp; (i = 20), k &lt; 20 &amp;&amp; (k = 20), l = h = b.clamp({x: f, y: g, w: i, h: k}, j, a.name === 'move'), l = n(j, l), y.fire('updateRect', {rect: l}), v(l); } </span>function <span class="fstat-no" title="function not covered" >q () { function <span class="fstat-no" title="function not covered" >b (a) { var b, d = <span class="cstat-no" title="statement not covered" >c.get('DragHelper'); <span class="cstat-no" title="statement not covered" >return new d(D, {document: k.ownerDocument, handle: D + '-' + a.name, start: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >b = h; },</span> drag: <span class="fstat-no" title="function not covered" >function (</span>c) { <span class="cstat-no" title="statement not covered" >p(a, b, c.deltaX, c.deltaY); }}</span>); }<span class="cstat-no" title="statement not covered" >a</span>('&lt;div id="' + D + '" class="' + C + 'croprect-container" role="grid" aria-dropeffect="execute"&gt;').appendTo(k), e.each(B, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >a('#' + D, k).append('&lt;div id="' + D + '-' + b + '"class="' + C + 'croprect-block" style="display: none" data-mce-bogus="all"&gt;'); })</span>, e.each(z, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >a('#' + D, k).append('&lt;div id="' + D + '-' + b.name + '" class="' + C + 'croprect-handle ' + C + 'croprect-handle-' + b.name + '"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="' + b.label + '" aria-grabbed="false"&gt;'); })</span>, A = e.map(z, b), s(h), a(k).on('focusin focusout', <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >a(b.target).attr('aria-grabbed', b.type === 'focus'); })</span>, a(k).on('keydown', <span class="fstat-no" title="function not covered" >function (</span>a) { function <span class="fstat-no" title="function not covered" >b (a, b, d, e, f) { <span class="cstat-no" title="statement not covered" >a.stopPropagation(), a.preventDefault(), p(c, d, e, f); } </span>var c; <span class="cstat-no" title="statement not covered" >switch (e.each(z, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >if (a.target.id === D + '-' + b.name) <span class="cstat-no" title="statement not covered" >return c = b, !1; })</span></span>, a.keyCode) { case f.LEFT:<span class="cstat-no" title="statement not covered" >b(a, c, h, -10, 0); <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase f.RIGHT:<span class="cstat-no" title="statement not covered" >b(a, c, h, 10, 0); <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase f.UP:<span class="cstat-no" title="statement not covered" >b(a, c, h, 0, -10); <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase f.DOWN:<span class="cstat-no" title="statement not covered" >b(a, c, h, 0, 10); <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase f.ENTER:case f.SPACEBAR:<span class="cstat-no" title="statement not covered" >a.preventDefault(), l(); } })</span>; } </span>function <span class="fstat-no" title="function not covered" >r (b) { var c; <span class="cstat-no" title="statement not covered" >c = e.map(z, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return '#' + D + '-' + a.name; })</span>.concat(e.map(B, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return '#' + D + '-' + a; })</span>).join(','), b ? a(c, k).show() : a(c, k).hide(); } </span>function <span class="fstat-no" title="function not covered" >s (b) { function <span class="fstat-no" title="function not covered" >c (b, c) { <span class="cstat-no" title="statement not covered" >c.h &lt; 0 &amp;&amp; (c.h = 0), c.w &lt; 0 &amp;&amp; (c.w = 0), a('#' + D + '-' + b, k).css({left: c.x, top: c.y, width: c.w, height: c.h}); }<span class="cstat-no" title="statement not covered" >e</span>.each(z, <span class="fstat-no" title="function not covered" >function (</span>c) { <span class="cstat-no" title="statement not covered" >a('#' + D + '-' + c.name, k).css({left: b.w * c.xMul + b.x, top: b.h * c.yMul + b.y}); })</span>, c('top', {x: i.x, y: i.y, w: i.w, h: b.y - i.y}), c('right', {x: b.x + b.w, y: b.y, w: i.w - b.x - b.w + i.x, h: b.h}), c('bottom', {x: i.x, y: b.y + b.h, w: i.w, h: i.h - b.y - b.h + i.y}), c('left', {x: i.x, y: b.y, w: b.x - i.x, h: b.h}), c('move', b); } </span>function <span class="fstat-no" title="function not covered" >t (a) { <span class="cstat-no" title="statement not covered" >h = a, s(h); } </span>function <span class="fstat-no" title="function not covered" >u (a) { <span class="cstat-no" title="statement not covered" >i = a, s(h); } </span>function <span class="fstat-no" title="function not covered" >v (a) { <span class="cstat-no" title="statement not covered" >t(m(j, a)); } </span>function <span class="fstat-no" title="function not covered" >w (a) { <span class="cstat-no" title="statement not covered" >j = a, s(h); } </span>function <span class="fstat-no" title="function not covered" >x () { <span class="cstat-no" title="statement not covered" >e.each(A, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.destroy(); })</span>, A = []; } </span>var y, z, A, B, C = <span class="cstat-no" title="statement not covered" >'mce-', D = <span class="cstat-no" title="statement not covered" >C + 'crid-' + g++; <span class="cstat-no" title="statement not covered" >return z = [{name: 'move', xMul: 0, yMul: 0, deltaX: 1, deltaY: 1, deltaW: 0, deltaH: 0, label: 'Crop Mask'}, {name: 'nw', xMul: 0, yMul: 0, deltaX: 1, deltaY: 1, deltaW: -1, deltaH: -1, label: 'Top Left Crop Handle'}, {name: 'ne', xMul: 1, yMul: 0, deltaX: 0, deltaY: 1, deltaW: 1, deltaH: -1, label: 'Top Right Crop Handle'}, {name: 'sw', xMul: 0, yMul: 1, deltaX: 1, deltaY: 0, deltaW: -1, deltaH: 1, label: 'Bottom Left Crop Handle'}, {name: 'se', xMul: 1, yMul: 1, deltaX: 0, deltaY: 0, deltaW: 1, deltaH: 1, label: 'Bottom Right Crop Handle'}], B = ['top', 'right', 'bottom', 'left'], q(k), y = e.extend({toggleVisibility: r, setClampRect: w, setRect: t, getInnerRect: o, setInnerRect: v, setViewPortRect: u, destroy: x}, d); };</span> })</span>, g('10', ['1b', '1c', '1d', 'y', 'j', '8', '1e', '1f'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f, g, h) { var i = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>e) { var f = <span class="cstat-no" title="statement not covered" >d.get('Control'), i = <span class="cstat-no" title="statement not covered" >f.extend({Defaults: {classes: 'imagepanel'}, selection: <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return arguments.length ? (this.state.set('rect', a), this) : this.state.get('rect'); },</span> imageSize: <span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" >this.state.get('viewRect'); <span class="cstat-no" title="statement not covered" >return {w: a.w, h: a.h}; },</span> toggleCropRect: <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >this.state.set('cropEnabled', a); },</span> imageSrc: <span class="fstat-no" title="function not covered" >function (</span>d) { var e = <span class="cstat-no" title="statement not covered" >this, f = <span class="cstat-no" title="statement not covered" >new b(); <span class="cstat-no" title="statement not covered" >f.src = d, g.loadImage(f).then(<span class="fstat-no" title="function not covered" >function () </span>{ var b, d, g = <span class="cstat-no" title="statement not covered" >e.state.get('viewRect'); <span class="cstat-no" title="statement not covered" >if (d = e.$el.find('img'), d[0])<span class="cstat-no" title="statement not covered" >d.replaceWith(f); else { var h = <span class="cstat-no" title="statement not covered" >a.createElement('div'); <span class="cstat-no" title="statement not covered" >h.className = 'mce-imagepanel-bg', e.getEl().appendChild(h), e.getEl().appendChild(f); }<span class="cstat-no" title="statement not covered" >b</span></span> = {x: 0, y: 0, w: f.naturalWidth, h: f.naturalHeight}, e.state.set('viewRect', b), e.state.set('rect', c.inflate(b, -20, -20)), g &amp;&amp; g.w === b.w &amp;&amp; g.h === b.h || e.zoomFit(), e.repaintImage(), e.fire('load'); })</span>; },</span> zoom: <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return arguments.length ? (this.state.set('zoom', a), this) : this.state.get('zoom'); },</span> postRender: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return this.imageSrc(this.settings.imageSrc), this._super(); },</span> zoomFit: <span class="fstat-no" title="function not covered" >function () </span>{ var a, b, c, d, e, f, g, h = <span class="cstat-no" title="statement not covered" >this; <span class="cstat-no" title="statement not covered" >g = 10, a = h.$el.find('img'), b = h.getEl().clientWidth, c = h.getEl().clientHeight, d = a[0].naturalWidth, e = a[0].naturalHeight, f = Math.min((b - g) / d, (c - g) / e), f &gt;= 1 &amp;&amp; (f = 1), h.zoom(f); },</span> repaintImage: <span class="fstat-no" title="function not covered" >function () </span>{ var a, b, c, d, e, f, g, h, i, j, k; <span class="cstat-no" title="statement not covered" >k = this.getEl(), i = this.zoom(), j = this.state.get('rect'), g = this.$el.find('img'), h = this.$el.find('.mce-imagepanel-bg'), e = k.offsetWidth, f = k.offsetHeight, c = g[0].naturalWidth * i, d = g[0].naturalHeight * i, a = Math.max(0, e / 2 - c / 2), b = Math.max(0, f / 2 - d / 2), g.css({left: a, top: b, width: c, height: d}), h.css({left: a, top: b, width: c, height: d}), this.cropRect &amp;&amp; (this.cropRect.setRect({x: j.x * i + a, y: j.y * i + b, w: j.w * i, h: j.h * i}), this.cropRect.setClampRect({x: a, y: b, w: c, h: d}), this.cropRect.setViewPortRect({x: 0, y: 0, w: e, h: f})); },</span> bindStates: <span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >a (a) { <span class="cstat-no" title="statement not covered" >b.cropRect = new h(a, b.state.get('viewRect'), b.state.get('viewRect'), b.getEl(), <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >b.fire('crop'); })</span>, b.cropRect.on('updateRect', <span class="fstat-no" title="function not covered" >function (</span>a) { var c = <span class="cstat-no" title="statement not covered" >a.rect, d = <span class="cstat-no" title="statement not covered" >b.zoom(); <span class="cstat-no" title="statement not covered" >c = {x: Math.round(c.x / d), y: Math.round(c.y / d), w: Math.round(c.w / d), h: Math.round(c.h / d)}, b.state.set('rect', c); })</span>, b.on('remove', b.cropRect.destroy); } </span>var b = <span class="cstat-no" title="statement not covered" >this; <span class="cstat-no" title="statement not covered" >b.state.on('change:cropEnabled', <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.cropRect.toggleVisibility(a.value), b.repaintImage(); })</span>, b.state.on('change:zoom', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >b.repaintImage(); })</span>, b.state.on('change:rect', <span class="fstat-no" title="function not covered" >function (</span>c) { var d = <span class="cstat-no" title="statement not covered" >c.value; <span class="cstat-no" title="statement not covered" >b.cropRect || a(d), b.cropRect.setRect(d); })</span>; }}</span>); <span class="cstat-no" title="statement not covered" >return new i(e); };</span> <span class="cstat-no" title="statement not covered" >return {create: i}; })</span>, g('n', ['c', 'd', 'g', 'v', 'w', 'x', 'y', 'j', '8', 'z', '10'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f, g, h, i, j, k) {</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
        function <span class="fstat-no" title="function not covered" >l (a) { <span class="cstat-no" title="statement not covered" >return {blob: a, url: c.createObjectURL(a)}; } </span>function <span class="fstat-no" title="function not covered" >m (a) { <span class="cstat-no" title="statement not covered" >a &amp;&amp; c.revokeObjectURL(a.url); } </span>function <span class="fstat-no" title="function not covered" >n (a) { <span class="cstat-no" title="statement not covered" >i.each(a, m); } </span>function <span class="fstat-no" title="function not covered" >o (c, h, o, p) {</span></span></span></span>
            function <span class="fstat-no" title="function not covered" >q (a) { var b, c, e, f; <span class="cstat-no" title="statement not covered" >b = O.find('#w')[0], c = O.find('#h')[0], e = parseInt(b.value(), 10), f = parseInt(c.value(), 10), O.find('#constrain')[0].checked() &amp;&amp; ja &amp;&amp; ka &amp;&amp; e &amp;&amp; f &amp;&amp; (a.control.settings.name === 'w' ? (f = d.round(e * la), c.value(f)) : (e = d.round(f * ma), b.value(e))), ja = e, ka = f; } </span>function <span class="fstat-no" title="function not covered" >r (a) { <span class="cstat-no" title="statement not covered" >return d.round(100 * a) + '%'; } </span>function <span class="fstat-no" title="function not covered" >s () { <span class="cstat-no" title="statement not covered" >O.find('#undo').disabled(!na.canUndo()), O.find('#redo').disabled(!na.canRedo()), O.statusbar.find('#save').disabled(!na.canUndo()); } </span>function <span class="fstat-no" title="function not covered" >t () { <span class="cstat-no" title="statement not covered" >O.find('#undo').disabled(!0), O.find('#redo').disabled(!0); } </span>function <span class="fstat-no" title="function not covered" >u (a) { <span class="cstat-no" title="statement not covered" >a &amp;&amp; V.imageSrc(a.url); } </span>function <span class="fstat-no" title="function not covered" >v (a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var b = <span class="cstat-no" title="statement not covered" >i.grep(ia, <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >return b.settings.name !== a; })</span>; <span class="cstat-no" title="statement not covered" >i.each(b, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.hide(); })</span>, a.show(), a.focus(); };</span> } </span>function <span class="fstat-no" title="function not covered" >w (a) { <span class="cstat-no" title="statement not covered" >R = l(a), u(R); } </span>function <span class="fstat-no" title="function not covered" >x (a) { <span class="cstat-no" title="statement not covered" >h = l(a), u(h), n(na.add(h).removed), s(); } </span>function <span class="fstat-no" title="function not covered" >y () { var c = <span class="cstat-no" title="statement not covered" >V.selection(); <span class="cstat-no" title="statement not covered" >a.blobToImageResult(h.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.crop(a, c.x, c.y, c.w, c.h).then(oa).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >x(a), B(); })</span>; })</span>; } </span>function <span class="fstat-no" title="function not covered" >z (b) { var c = <span class="cstat-no" title="statement not covered" >[].slice.call(arguments, 1); <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var d = <span class="cstat-no" title="statement not covered" >R || h; <span class="cstat-no" title="statement not covered" >a.blobToImageResult(d.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.apply(this, [a].concat(c)).then(oa).then(w); })</span>; };</span> } </span>function <span class="fstat-no" title="function not covered" >A (b) { var c = <span class="cstat-no" title="statement not covered" >[].slice.call(arguments, 1); <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a.blobToImageResult(h.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.apply(this, [a].concat(c)).then(oa).then(x); })</span>; };</span> } </span>function <span class="fstat-no" title="function not covered" >B () { <span class="cstat-no" title="statement not covered" >u(h), m(R), v(P)(), s(); } </span>function <span class="fstat-no" title="function not covered" >C (a, b) { <span class="cstat-no" title="statement not covered" >R ? b() : e(<span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a-- &gt; 0 ? C(a, b) : c.windowManager.alert('Error: failed to apply image operation.'); },</span> 10); } </span>function <span class="fstat-no" title="function not covered" >D () { <span class="cstat-no" title="statement not covered" >R ? (x(R.blob), B()) : C(100, D); } </span>function <span class="fstat-no" title="function not covered" >E () { var a = <span class="cstat-no" title="statement not covered" >V.zoom(); <span class="cstat-no" title="statement not covered" >a &lt; 2 &amp;&amp; (a += 0.1), V.zoom(a); } </span>function <span class="fstat-no" title="function not covered" >F () { var a = <span class="cstat-no" title="statement not covered" >V.zoom(); <span class="cstat-no" title="statement not covered" >a &gt; 0.1 &amp;&amp; (a -= 0.1), V.zoom(a); } </span>function <span class="fstat-no" title="function not covered" >G () { <span class="cstat-no" title="statement not covered" >h = na.undo(), u(h), s(); } </span>function <span class="fstat-no" title="function not covered" >H () { <span class="cstat-no" title="statement not covered" >h = na.redo(), u(h), s(); } </span>function <span class="fstat-no" title="function not covered" >I () { <span class="cstat-no" title="statement not covered" >o(h.blob), O.close(); } </span>function <span class="fstat-no" title="function not covered" >J (a) { <span class="cstat-no" title="statement not covered" >return g.create('Form', {layout: 'flex', direction: 'row', labelGap: 5, border: '0 0 1 0', align: 'center', pack: 'center', padding: '0 10 0 10', spacing: 5, flex: 0, minHeight: 60, defaults: {classes: 'imagetool', type: 'button'}, items: a}); } </span>function <span class="fstat-no" title="function not covered" >K (b, c) { <span class="cstat-no" title="statement not covered" >return J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: D}]).hide().on('show', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >t(), a.blobToImageResult(h.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return c(a); })</span>.then(oa).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >l(a); <span class="cstat-no" title="statement not covered" >u(b), m(R), R = b; })</span>; })</span>; } </span>function <span class="fstat-no" title="function not covered" >L (b, c, d, e, f) {</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
                function <span class="fstat-no" title="function not covered" >g (b) {</span>
<span class="cstat-no" title="statement not covered" >                    a.blobToImageResult(h.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return c(a, b); })</span>.then(oa).then(<span class="fstat-no" title="function not covered" >function (</span>a) {</span>
                        var b = <span class="cstat-no" title="statement not covered" >l(a); <span class="cstat-no" title="statement not covered" >u(b), m(R), R = b;</span></span>
                    });
                } <span class="cstat-no" title="statement not covered" >return J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {type: 'slider', flex: 1, ondragend: <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >g(a.value); },</span> minValue: e, maxValue: f, value: d, previewFilter: r}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: D}]).hide().on('show', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >this.find('slider').value(d), t(); })</span>;</span>
            } function <span class="fstat-no" title="function not covered" >M (b, c) { function <span class="fstat-no" title="function not covered" >d () { var b, d, e; <span class="cstat-no" title="statement not covered" >b = O.find('#r')[0].value(), d = O.find('#g')[0].value(), e = O.find('#b')[0].value(), a.blobToImageResult(h.blob).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return c(a, b, d, e); })</span>.then(oa).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >l(a); <span class="cstat-no" title="statement not covered" >u(b), m(R), R = b; })</span>; } <span class="cstat-no" title="statement not covered" ></span>return J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {type: 'slider', label: 'R', name: 'r', minValue: 0, value: 1, maxValue: 2, ondragend: d, previewFilter: r}, {type: 'slider', label: 'G', name: 'g', minValue: 0, value: 1, maxValue: 2, ondragend: d, previewFilter: r}, {type: 'slider', label: 'B', name: 'b', minValue: 0, value: 1, maxValue: 2, ondragend: d, previewFilter: r}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: D}]).hide().on('show', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >O.find('#r,#g,#b').value(1), t(); })</span>; } </span>function <span class="fstat-no" title="function not covered" >N (a) { <span class="cstat-no" title="statement not covered" >a.control.value() === !0 &amp;&amp; (la = ka / ja, ma = ja / ka); } </span>var O, P, Q, R, S, T, U, V, W, X, Y, Z, $, _, aa, ba, ca, da, ea, fa, ga, ha, ia, ja, ka, la, ma, na = <span class="cstat-no" title="statement not covered" >new j(), <span class="fstat-no" title="function not covered" >oa = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.toBlob(); };</span> <span class="cstat-no" title="statement not covered" >S = J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: y}]).hide().on('show hide', <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >V.toggleCropRect(a.type === 'show'); })</span>.on('show', t), T = J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {type: 'textbox', name: 'w', label: 'Width', size: 4, onkeyup: q}, {type: 'textbox', name: 'h', label: 'Height', size: 4, onkeyup: q}, {type: 'checkbox', name: 'constrain', text: 'Constrain proportions', checked: !0, onchange: N}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: 'submit'}]).hide().on('submit', <span class="fstat-no" title="function not covered" >function (</span>a) { var c = <span class="cstat-no" title="statement not covered" >parseInt(O.find('#w').value(), 10), d = <span class="cstat-no" title="statement not covered" >parseInt(O.find('#h').value(), 10); <span class="cstat-no" title="statement not covered" >a.preventDefault(), A(b.resize, c, d)(), B(); })</span>.on('show', t), U = J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {icon: 'fliph', tooltip: 'Flip horizontally', onclick: z(b.flip, 'h')}, {icon: 'flipv', tooltip: 'Flip vertically', onclick: z(b.flip, 'v')}, {icon: 'rotateleft', tooltip: 'Rotate counterclockwise', onclick: z(b.rotate, -90)}, {icon: 'rotateright', tooltip: 'Rotate clockwise', onclick: z(b.rotate, 90)}, {type: 'spacer', flex: 1}, {text: 'Apply', subtype: 'primary', onclick: D}]).hide().on('show', t), Y = K('Invert', b.invert), ea = K('Sharpen', b.sharpen), fa = K('Emboss', b.emboss), Z = L('Brightness', b.brightness, 0, -1, 1), $ = L('Hue', b.hue, 180, 0, 360), _ = L('Saturate', b.saturate, 0, -1, 1), aa = L('Contrast', b.contrast, 0, -1, 1), ba = L('Grayscale', b.grayscale, 0, 0, 1), ca = L('Sepia', b.sepia, 0, 0, 1), da = M('Colorize', b.colorize), ga = L('Gamma', b.gamma, 0, -1, 1), ha = L('Exposure', b.exposure, 1, 0, 2), Q = J([{text: 'Back', onclick: B}, {type: 'spacer', flex: 1}, {text: 'hue', icon: 'hue', onclick: v($)}, {text: 'saturate', icon: 'saturate', onclick: v(_)}, {text: 'sepia', icon: 'sepia', onclick: v(ca)}, {text: 'emboss', icon: 'emboss', onclick: v(fa)}, {text: 'exposure', icon: 'exposure', onclick: v(ha)}, {type: 'spacer', flex: 1}]).hide(), P = J([{tooltip: 'Crop', icon: 'crop', onclick: v(S)}, {tooltip: 'Resize', icon: 'resize2', onclick: v(T)}, {tooltip: 'Orientation', icon: 'orientation', onclick: v(U)}, {tooltip: 'Brightness', icon: 'sun', onclick: v(Z)}, {tooltip: 'Sharpen', icon: 'sharpen', onclick: v(ea)}, {tooltip: 'Contrast', icon: 'contrast', onclick: v(aa)}, {tooltip: 'Color levels', icon: 'drop', onclick: v(da)}, {tooltip: 'Gamma', icon: 'gamma', onclick: v(ga)}, {tooltip: 'Invert', icon: 'invert', onclick: v(Y)}]), V = k.create({flex: 1, imageSrc: h.url}), W = g.create('Container', {layout: 'flex', direction: 'column', border: '0 1 0 0', padding: 5, spacing: 5, items: [{type: 'button', icon: 'undo', tooltip: 'Undo', name: 'undo', onclick: G}, {type: 'button', icon: 'redo', tooltip: 'Redo', name: 'redo', onclick: H}, {type: 'button', icon: 'zoomin', tooltip: 'Zoom in', onclick: E}, {type: 'button', icon: 'zoomout', tooltip: 'Zoom out', onclick: F}]}), X = g.create('Container', {type: 'container', layout: 'flex', direction: 'row', align: 'stretch', flex: 1, items: [W, V]}), ia = [P, S, T, U, Q, Y, Z, $, _, aa, ba, ca, da, ea, fa, ga, ha], O = c.windowManager.open({layout: 'flex', direction: 'column', align: 'stretch', minWidth: d.min(f.DOM.getViewPort().w, 800), minHeight: d.min(f.DOM.getViewPort().h, 650), title: 'Edit image', items: ia.concat([X]), buttons: [{text: 'Save', name: 'save', subtype: 'primary', onclick: I}, {text: 'Cancel', onclick: 'close'}]}), O.on('close', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >p(), n(na.data), na = null, R = null; })</span>, na.add(h), s(), V.on('load', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >ja = V.imageSize().w, ka = V.imageSize().h, la = ka / ja, ma = ja / ka, O.find('#w').value(ja), O.find('#h').value(ka); })</span>, V.on('crop', y);</span></span></span></span></span></span></span></span></span>
        } function <span class="fstat-no" title="function not covered" >p (a, b) { <span class="cstat-no" title="statement not covered" >return new h(<span class="fstat-no" title="function not covered" >function (</span>c, d) { <span class="cstat-no" title="statement not covered" >return b.toBlob().then(<span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >o(a, l(b), c, d); })</span>; })</span>; } <span class="cstat-no" title="statement not covered" ></span>return {edit: p};</span></span>
    }), g('9', ['c', 'd', 'a', 'g', 'h', 'i', 'j', '8', 'k', 'b', 'l', 'm', 'n'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f, g, h, i, j, k, l, m) { var n = <span class="cstat-no" title="statement not covered" >0, <span class="fstat-no" title="function not covered" >o = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >a.dom.is(b, 'img:not([data-mce-object],[data-mce-placeholder])'); <span class="cstat-no" title="statement not covered" >return c &amp;&amp; (t(a, b) || u(a, b) || a.settings.imagetools_proxy); },</span> <span class="fstat-no" title="function not covered" >p = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >a.notificationManager.open({text: b, type: 'error'}); },</span> <span class="fstat-no" title="function not covered" >q = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.selection.getNode(); },</span> <span class="fstat-no" title="function not covered" >r = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >b.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i); <span class="cstat-no" title="statement not covered" >return c ? a.dom.encode(c[1]) : null; },</span> <span class="fstat-no" title="function not covered" >s = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return 'imagetools' + n++; },</span> <span class="fstat-no" title="function not covered" >t = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >b.src; <span class="cstat-no" title="statement not covered" >return c.indexOf('data:') === 0 || c.indexOf('blob:') === 0 || new i(c).host === a.documentBaseURI.host; },</span> <span class="fstat-no" title="function not covered" >u = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return h.inArray(a.settings.imagetools_cors_hosts, new i(b.src).host) !== -1; },</span> <span class="fstat-no" title="function not covered" >v = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.settings.api_key || a.settings.imagetools_api_key; },</span> <span class="fstat-no" title="function not covered" >w = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { var d, e = <span class="cstat-no" title="statement not covered" >c.src; <span class="cstat-no" title="statement not covered" >return u(b, c) ? l.getUrl(c.src, null) : t(b, c) ? a.imageToBlob(c) : (e = j.getProxyUrl(b), e += (e.indexOf('?') === -1 ? '?' : '&amp;') + 'url=' + encodeURIComponent(c.src), d = v(b), l.getUrl(e, d)); },</span> <span class="fstat-no" title="function not covered" >x = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { var b; <span class="cstat-no" title="statement not covered" >return b = a.editorUpload.blobCache.getByUri(q(a).src), b ? g.resolve(b.blob()) : w(a, q(a)); },</span> <span class="fstat-no" title="function not covered" >y = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >f.setEditorTimeout(a, <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a.editorUpload.uploadImagesAuto(); },</span> a.settings.images_upload_timeout || 3e4); <span class="cstat-no" title="statement not covered" >b.set(c); },</span> <span class="fstat-no" title="function not covered" >z = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >e(a.get()); },</span> <span class="fstat-no" title="function not covered" >A = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b, c, d) { <span class="cstat-no" title="statement not covered" >return b.toBlob().then(<span class="fstat-no" title="function not covered" >function (</span>e) { var f, g, h, i, j; <span class="cstat-no" title="statement not covered" >return h = a.editorUpload.blobCache, j = q(a), f = j.src, a.settings.images_reuse_filename &amp;&amp; (i = h.getByUri(f), i ? (f = i.uri(), g = i.name()) : g = r(a, f)), i = h.create({id: s(), blob: e, base64: b.toBase64(), uri: f, name: g}), h.add(i), a.undoManager.transact(<span class="fstat-no" title="function not covered" >function () </span>{ function <span class="fstat-no" title="function not covered" >b () { <span class="cstat-no" title="statement not covered" >a.$(j).off('load', b), a.nodeChanged(), c ? a.editorUpload.uploadImagesAuto() : (z(d), y(a, d)); }<span class="cstat-no" title="statement not covered" >a</span>.$(j).on('load', b), a.$(j).attr({src: i.blobUri()}).removeAttr('data-mce-src'); })</span>, i; })</span>; },</span> <span class="fstat-no" title="function not covered" >B = <span class="cstat-no" title="statement not covered" >f</span>unction (b, d, e) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return b._scanForImages().then(c.curry(x, b)).then(a.blobToImageResult).then(e).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return A(b, a, !1, d); },</span> <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >p(b, a); })</span>; };</span> },</span> <span class="fstat-no" title="function not covered" >C = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c, d) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return B(a, c, <span class="fstat-no" title="function not covered" >function (</span>c) { var e = <span class="cstat-no" title="statement not covered" >k.getImageSize(q(a)); <span class="cstat-no" title="statement not covered" >return e &amp;&amp; k.setImageSize(q(a), {w: e.h, h: e.w}), b.rotate(c, d); })</span>(); };</span> },</span> <span class="fstat-no" title="function not covered" >D = <span class="cstat-no" title="statement not covered" >f</span>unction (a, c, d) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return B(a, c, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return b.flip(a, d); })</span>(); };</span> },</span> <span class="fstat-no" title="function not covered" >E = <span class="cstat-no" title="statement not covered" >f</span>unction (b, e) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var f = <span class="cstat-no" title="statement not covered" >q(b), h = <span class="cstat-no" title="statement not covered" >k.getNaturalImageSize(f), <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (b) { <span class="cstat-no" title="statement not covered" >return new g(<span class="fstat-no" title="function not covered" >function (</span>c) { <span class="cstat-no" title="statement not covered" >a.blobToImage(b).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var e = <span class="cstat-no" title="statement not covered" >k.getNaturalImageSize(a); <span class="cstat-no" title="statement not covered" >h.w === e.w &amp;&amp; h.h === e.h || k.getImageSize(f) &amp;&amp; k.setImageSize(f, e), d.revokeObjectURL(a.src), c(b); })</span>; })</span>; },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (b, c) { <span class="cstat-no" title="statement not covered" >return m.edit(b, c).then(i).then(a.blobToImageResult).then(<span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return A(b, a, !0, e); },</span> <span class="fstat-no" title="function not covered" >function () </span>{}); };</span> <span class="cstat-no" title="statement not covered" >x(b).then(a.blobToImageResult).then(c.curry(j, b), <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >p(b, a); })</span>; };</span> };</span> <span class="cstat-no" title="statement not covered" >return {rotate: C, flip: D, editImageDialog: E, isEditableImage: o, cancelTimedUpload: z}; })</span>, g('3', ['8', '9'], <span class="fstat-no" title="function not covered" >function (</span>a, b) { var c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>c, d) { <span class="cstat-no" title="statement not covered" >a.each({mceImageRotateLeft: b.rotate(c, d, -90), mceImageRotateRight: b.rotate(c, d, 90), mceImageFlipVertical: b.flip(c, d, 'v'), mceImageFlipHorizontal: b.flip(c, d, 'h'), mceEditImage: b.editImageDialog(c, d)}, <span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >c.addCommand(b, a); })</span>; };</span> <span class="cstat-no" title="statement not covered" >return {register: c}; })</span>, g('4', ['9'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c, d) { <span class="cstat-no" title="statement not covered" >b.on('NodeChange', <span class="fstat-no" title="function not covered" >function (</span>e) { var f = <span class="cstat-no" title="statement not covered" >d.get(); <span class="cstat-no" title="statement not covered" >f &amp;&amp; f.src !== e.element.src &amp;&amp; (a.cancelTimedUpload(c), b.editorUpload.uploadImagesAuto(), d.set(null)), a.isEditableImage(b, e.element) &amp;&amp; d.set(e.element); })</span>; };</span> <span class="cstat-no" title="statement not covered" >return {setup: b}; })</span>, g('5', [], <span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.addButton('rotateleft', {title: 'Rotate counterclockwise', cmd: 'mceImageRotateLeft'}), a.addButton('rotateright', {title: 'Rotate clockwise', cmd: 'mceImageRotateRight'}), a.addButton('flipv', {title: 'Flip vertically', cmd: 'mceImageFlipVertical'}), a.addButton('fliph', {title: 'Flip horizontally', cmd: 'mceImageFlipHorizontal'}), a.addButton('editimage', {title: 'Edit image', cmd: 'mceEditImage'}), a.addButton('imageoptions', {title: 'Image options', icon: 'options', cmd: 'mceImage'}); };</span> <span class="cstat-no" title="statement not covered" >return {register: a}; })</span>, g('6', ['a', 'b', '9'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c) { var d = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>d) { <span class="cstat-no" title="statement not covered" >d.addContextToolbar(a.curry(c.isEditableImage, d), b.getToolbarItems(d)); };</span> <span class="cstat-no" title="statement not covered" >return {register: d}; })</span>, g('0', ['1', '2', '3', '4', '5', '6'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f) { <span class="cstat-no" title="statement not covered" >return b.add('imagetools', <span class="fstat-no" title="function not covered" >function (</span>b) { var g = <span class="cstat-no" title="statement not covered" >a(0), h = <span class="cstat-no" title="statement not covered" >a(null); <span class="cstat-no" title="statement not covered" >c.register(b, g), e.register(b), f.register(b), d.setup(b, g, h); })</span>, <span class="fstat-no" title="function not covered" >function () </span>{}; })</span>, d('0')();</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
}());
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Sun May 13 2018 16:53:25 GMT+0800 (CST)
</div>
</div>
<script src="../../../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../../../sorter.js"></script>
<script src="../../../../../../../block-navigation.js"></script>
</body>
</html>
