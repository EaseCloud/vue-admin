<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/__pending/text-editor/tinymce/plugins/image/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../../../index.html">All files</a> / <a href="index.html">src/components/__pending/text-editor/tinymce/plugins/image</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/228</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/240</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/103</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
    <p class="quiet">
      Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
    </p>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >!(<span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" >{}, b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >for (var c = a[b], e = c.deps, f = c.defn, g = e.length, h = new Array(g), i = 0; i &lt; g; ++i)<span class="cstat-no" title="statement not covered" >h[i] = d(e[i]); v</span>ar j = <span class="cstat-no" title="statement not covered" >f.apply(null, h); <span class="cstat-no" title="statement not covered" >if (void 0 === j) <span class="cstat-no" title="statement not covered" >throw 'module [' + b + '] returned undefined'; <span class="cstat-no" title="statement not covered" >c</span></span>.instance = j; },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c, d) { <span class="cstat-no" title="statement not covered" >if (typeof b !== 'string') <span class="cstat-no" title="statement not covered" >throw 'module id must be a string'; <span class="cstat-no" title="statement not covered" >i</span></span>f (void 0 === c) <span class="cstat-no" title="statement not covered" >throw 'no dependencies for ' + b; <span class="cstat-no" title="statement not covered" >i</span></span>f (void 0 === d) <span class="cstat-no" title="statement not covered" >throw 'no definition function for ' + b; <span class="cstat-no" title="statement not covered" >a</span></span>[b] = {deps: c, defn: d, instance: void 0}; },</span> d = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>c) { var d = <span class="cstat-no" title="statement not covered" >a[c]; <span class="cstat-no" title="statement not covered" >if (void 0 === d) <span class="cstat-no" title="statement not covered" >throw 'module [' + c + '] was undefined'; <span class="cstat-no" title="statement not covered" >r</span></span>eturn void 0 === d.instance &amp;&amp; b(c), d.instance; },</span> e = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >for (var c = a.length, e = new Array(c), f = 0; f &lt; c; ++f)<span class="cstat-no" title="statement not covered" >e[f] = d(a[f]); <span class="cstat-no" title="statement not covered" >b</span>.apply(null, e); },</span> f = <span class="cstat-no" title="statement not covered" >{}; <span class="cstat-no" title="statement not covered" >f.bolt = {module: {api: {define: c, require: e, demand: d}}}; v</span>ar g = <span class="cstat-no" title="statement not covered" >c, <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >g(a, [], <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return b; })</span>; };</span> <span class="cstat-no" title="statement not covered" >h('5', tinymce.util.Tools.resolve), g('1', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.PluginManager'); })</span>, g('o', [], <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return typeof window !== 'undefined' ? window : Function('return this;')(); })</span>, g('n', ['o'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >for (var d = void 0 !== c ? c : a, e = 0; e &lt; b.length &amp;&amp; void 0 !== d &amp;&amp; d !== null; ++e)<span class="cstat-no" title="statement not covered" >d = d[b[e]]; <span class="cstat-no" title="statement not covered" >r</span>eturn d; },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, c) { var d = <span class="cstat-no" title="statement not covered" >a.split('.'); <span class="cstat-no" title="statement not covered" >return b(d, c); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return void 0 !== a[b] &amp;&amp; a[b] !== null || (a[b] = {}), a[b]; },</span> e = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >for (var e = void 0 !== c ? c : a, f = 0; f &lt; b.length; ++f)<span class="cstat-no" title="statement not covered" >e = d(e, b[f]); <span class="cstat-no" title="statement not covered" >r</span>eturn e; },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { var c = <span class="cstat-no" title="statement not covered" >a.split('.'); <span class="cstat-no" title="statement not covered" >return e(c, b); };</span> <span class="cstat-no" title="statement not covered" >return {path: b, resolve: c, forge: e, namespace: f}; })</span>, g('j', ['n'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c) { <span class="cstat-no" title="statement not covered" >return a.resolve(b, c); },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, c) { var d = <span class="cstat-no" title="statement not covered" >b(a, c); <span class="cstat-no" title="statement not covered" >if (void 0 === d) <span class="cstat-no" title="statement not covered" >throw a + ' not available on this browser'; <span class="cstat-no" title="statement not covered" >r</span></span>eturn d; };</span> <span class="cstat-no" title="statement not covered" >return {getOrDie: c}; })</span>, g('8', ['j'], <span class="fstat-no" title="function not covered" >function (</span>a) { var <span class="fstat-no" title="function not covered" >b = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >return a.getOrDie('URL'); },</span> <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return b().createObjectURL(a); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >b().revokeObjectURL(a); };</span> <span class="cstat-no" title="statement not covered" >return {createObjectURL: c, revokeObjectURL: d}; })</span>, h('9', document), h('a', Math), h('b', RegExp), g('c', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.Env'); })</span>, g('d', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.ui.Factory'); })</span>, g('e', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.JSON'); })</span>, g('7', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Tools'); })</span>, g('f', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.XHR'); })</span>, g('g', [], <span class="fstat-no" title="function not covered" >function () </span>{ var a = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_dimensions', !0); },</span> <span class="fstat-no" title="function not covered" >b = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_advtab', !1); },</span> <span class="fstat-no" title="function not covered" >c = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_prepend_url', ''); },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_class_list'); },</span> <span class="fstat-no" title="function not covered" >e = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_description', !0); },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_title', !1); },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_caption', !1); },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.getParam('image_list', !1); };</span> <span class="cstat-no" title="statement not covered" >return {hasDimensions: a, hasAdvTab: b, getPrependUrl: c, getClassList: d, hasDescription: e, hasImageTitle: f, hasImageCaption: g, getImageList: h}; })</span>, g('k', ['j'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function () </span>{ var b = <span class="cstat-no" title="statement not covered" >a.getOrDie('XMLHttpRequest'); <span class="cstat-no" title="statement not covered" >return new b(); };</span> })</span>, h('l', window), g('m', ['5'], <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >return a('tinymce.util.Promise'); })</span>, g('h', ['k', '9', 'l', 'm', '7'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e) { var <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction () {}, <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return a ? a.replace(/\/$/, '') + '/' + b.replace(/^\//, '') : b; };</span> <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>b) { var h = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>d, e, f, h) { var i, j; <span class="cstat-no" title="statement not covered" >i = new a(), i.open('POST', b.url), i.withCredentials = b.credentials, i.upload.onprogress = <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >h(a.loaded / a.total * 100); },</span> i.onerror = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >f('Image upload failed due to a XHR Transport error. Code: ' + i.status); },</span> i.onload = <span class="fstat-no" title="function not covered" >function () </span>{ var a; <span class="cstat-no" title="statement not covered" >return i.status &lt; 200 || i.status &gt;= 300 ? void f('HTTP Error: ' + i.status) : (a = JSON.parse(i.responseText), a &amp;&amp; typeof a.location === 'string' ? void e(g(b.basePath, a.location)) : void f('Invalid JSON: ' + i.responseText)); },</span> j = new c.FormData(), j.append('file', d.blob(), d.filename()), i.send(j); },</span> <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction (a, b) { <span class="cstat-no" title="statement not covered" >return new d(<span class="fstat-no" title="function not covered" >function (</span>c, d) { <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >b(a, c, d, f); } </span>catch (a) { <span class="cstat-no" title="statement not covered" >d(a.message); } </span>})</span>; },</span> <span class="fstat-no" title="function not covered" >j = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a === h; },</span> <span class="fstat-no" title="function not covered" >k = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return !b.url &amp;&amp; j(b.handler) ? d.reject('Upload url missng from the settings.') : i(a, b.handler); };</span> <span class="cstat-no" title="statement not covered" >return b = e.extend({credentials: !1, handler: h}, b), {upload: k}; };</span> })</span>, g('i', ['7', 'a', '9'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c) { var d = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a, d) { function <span class="fstat-no" title="function not covered" >e (a, b) { <span class="cstat-no" title="statement not covered" >f.parentNode &amp;&amp; f.parentNode.removeChild(f), d({width: a, height: b}); } </span>var f = <span class="cstat-no" title="statement not covered" >c.createElement('img'); <span class="cstat-no" title="statement not covered" >f.onload = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >e(b.max(f.width, f.clientWidth), b.max(f.height, f.clientHeight)); },</span> f.onerror = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >e(); };</span> v</span>ar g = <span class="cstat-no" title="statement not covered" >f.style; <span class="cstat-no" title="statement not covered" >g.visibility = 'hidden', g.position = 'fixed', g.bottom = g.left = 0, g.width = g.height = 'auto', c.body.appendChild(f), f.src = a; },</span> e = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b, c, d) { function <span class="fstat-no" title="function not covered" >e (b, d) { <span class="cstat-no" title="statement not covered" >return d = d || [], a.each(b, <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >{text: a.text || a.title}; <span class="cstat-no" title="statement not covered" >a.menu ? b.menu = e(a.menu) : (b.value = a.value, c(b)), d.push(b); })</span>, d; } <span class="cstat-no" title="statement not covered" ></span>return e(b, d || []); },</span> <span class="fstat-no" title="function not covered" >f = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a &amp;&amp; (a = a.replace(/px$/, '')), a; },</span> <span class="fstat-no" title="function not covered" >g = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >return a.length &gt; 0 &amp;&amp; /^[0-9]+$/.test(a) &amp;&amp; (a += 'px'), a; },</span> <span class="fstat-no" title="function not covered" >h = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >if (a.margin) { var b = <span class="cstat-no" title="statement not covered" >a.margin.split(' '); <span class="cstat-no" title="statement not covered" >switch (b.length) { case 1:<span class="cstat-no" title="statement not covered" >a['margin-top'] = a['margin-top'] || b[0], a['margin-right'] = a['margin-right'] || b[0], a['margin-bottom'] = a['margin-bottom'] || b[0], a['margin-left'] = a['margin-left'] || b[0]; <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase 2:<span class="cstat-no" title="statement not covered" >a['margin-top'] = a['margin-top'] || b[0], a['margin-right'] = a['margin-right'] || b[1], a['margin-bottom'] = a['margin-bottom'] || b[0], a['margin-left'] = a['margin-left'] || b[1]; <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase 3:<span class="cstat-no" title="statement not covered" >a['margin-top'] = a['margin-top'] || b[0], a['margin-right'] = a['margin-right'] || b[1], a['margin-bottom'] = a['margin-bottom'] || b[2], a['margin-left'] = a['margin-left'] || b[1]; <span class="cstat-no" title="statement not covered" >b</span>reak; c</span>ase 4:<span class="cstat-no" title="statement not covered" >a['margin-top'] = a['margin-top'] || b[0], a['margin-right'] = a['margin-right'] || b[1], a['margin-bottom'] = a['margin-bottom'] || b[2], a['margin-left'] = a['margin-left'] || b[3]; } <span class="cstat-no" title="statement not covered" >d</span>elete a.margin; } <span class="cstat-no" title="statement not covered" ></span>r</span>eturn a; };</span> <span class="cstat-no" title="statement not covered" >return {getImageSize: d, buildListItems: e, removePixelSuffix: f, addPixelSuffix: g, mergeMargins: h}; })</span>, g('6', ['8', '9', 'a', 'b', 'c', 'd', 'e', '7', 'f', 'g', 'h', 'i'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d, e, f, g, h, i, j, k, l) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>b) { function <span class="fstat-no" title="function not covered" >e (a) { var c = <span class="cstat-no" title="statement not covered" >j.getImageList(b); <span class="cstat-no" title="statement not covered" >typeof c === 'string' ? i.send({url: c, success: <span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >a(g.parse(b)); }}</span>) : typeof c === 'function' ? c(a) : a(c); } </span>function <span class="fstat-no" title="function not covered" >m (e) { function <span class="fstat-no" title="function not covered" >g () { var c = <span class="cstat-no" title="statement not covered" >f.get('Throbber'), d = <span class="cstat-no" title="statement not covered" >new c(t.getEl()), e = <span class="cstat-no" title="statement not covered" >this.value(), g = <span class="cstat-no" title="statement not covered" >new k({url: C.images_upload_url, basePath: C.images_upload_base_path, credentials: C.images_upload_credentials, handler: C.images_upload_handler}), h = <span class="cstat-no" title="statement not covered" >b.editorUpload.blobCache.create({blob: e, name: e.name ? e.name.replace(/\.[^\.]+$/, '') : null, base64: 'data:image/fake;base64,='}), <span class="fstat-no" title="function not covered" >i = <span class="cstat-no" title="statement not covered" >f</span>unction () { <span class="cstat-no" title="statement not covered" >d.hide(), a.revokeObjectURL(h.blobUri()); };</span> <span class="cstat-no" title="statement not covered" >return d.show(), g.upload(h).then(<span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >t.find('#src'); <span class="cstat-no" title="statement not covered" >return b.value(a), t.find('tabpanel')[0].activateTab(0), b.fire('change'), i(), a; },</span> <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >b.windowManager.alert(a), i(); })</span>; } </span>function <span class="fstat-no" title="function not covered" >i (a) { <span class="cstat-no" title="statement not covered" >return b.schema.getTextBlockElements()[a.nodeName]; } </span>function <span class="fstat-no" title="function not covered" >m () { var a, b, d, e; <span class="cstat-no" title="statement not covered" >a = t.find('#width')[0], b = t.find('#height')[0], a &amp;&amp; b &amp;&amp; (d = a.value(), e = b.value(), t.find('#constrain')[0].checked() &amp;&amp; w &amp;&amp; x &amp;&amp; d &amp;&amp; e &amp;&amp; (w !== d ? (e = c.round(d / w * e), isNaN(e) || b.value(e)) : (d = c.round(e / x * d), isNaN(d) || a.value(d))), w = d, x = e); } </span>function <span class="fstat-no" title="function not covered" >n () { <span class="cstat-no" title="statement not covered" >if (j.hasAdvTab(b)) { var a = <span class="cstat-no" title="statement not covered" >t.toJSON(), c = <span class="cstat-no" title="statement not covered" >B.parseStyle(a.style); <span class="cstat-no" title="statement not covered" >c = l.mergeMargins(c), a.vspace &amp;&amp; (c['margin-top'] = c['margin-bottom'] = l.addPixelSuffix(a.vspace)), a.hspace &amp;&amp; (c['margin-left'] = c['margin-right'] = l.addPixelSuffix(a.hspace)), a.border &amp;&amp; (c['border-width'] = l.addPixelSuffix(a.border)), t.find('#style').value(B.serializeStyle(B.parseStyle(B.serializeStyle(c)))); } </span>} </span>function <span class="fstat-no" title="function not covered" >o () { <span class="cstat-no" title="statement not covered" >if (j.hasAdvTab(b)) { var a = <span class="cstat-no" title="statement not covered" >t.toJSON(), c = <span class="cstat-no" title="statement not covered" >B.parseStyle(a.style); <span class="cstat-no" title="statement not covered" >t.find('#vspace').value(''), t.find('#hspace').value(''), c = l.mergeMargins(c), (c['margin-top'] &amp;&amp; c['margin-bottom'] || c['margin-right'] &amp;&amp; c['margin-left']) &amp;&amp; (c['margin-top'] === c['margin-bottom'] ? t.find('#vspace').value(l.removePixelSuffix(c['margin-top'])) : t.find('#vspace').value(''), c['margin-right'] === c['margin-left'] ? t.find('#hspace').value(l.removePixelSuffix(c['margin-right'])) : t.find('#hspace').value('')), c['border-width'] &amp;&amp; t.find('#border').value(l.removePixelSuffix(c['border-width'])), t.find('#style').value(B.serializeStyle(B.parseStyle(B.serializeStyle(c)))); } </span>} </span>function <span class="fstat-no" title="function not covered" >p (a) { function <span class="fstat-no" title="function not covered" >c () { <span class="cstat-no" title="statement not covered" >a.onload = a.onerror = null, b.selection &amp;&amp; (b.selection.select(a), b.nodeChanged()); }<span class="cstat-no" title="statement not covered" >a</span>.onload = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >A.width || A.height || !D || B.setAttribs(a, {width: a.clientWidth, height: a.clientHeight}), c(); },</span> a.onerror = c; } </span>function <span class="fstat-no" title="function not covered" >q () { var a, c; <span class="cstat-no" title="statement not covered" >n(), m(), A = h.extend(A, t.toJSON()), A.alt || (A.alt = ''), A.title || (A.title = ''), A.width === '' &amp;&amp; (A.width = null), A.height === '' &amp;&amp; (A.height = null), A.style || (A.style = null), A = {src: A.src, alt: A.alt, title: A.title, width: A.width, height: A.height, style: A.style, caption: A.caption, 'class': A['class']}, b.undoManager.transact(<span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >if (A.src) { <span class="cstat-no" title="statement not covered" >if (A.title === '' &amp;&amp; (A.title = null), u ? B.setAttribs(u, A) : (A.id = '__mcenew', b.focus(), b.selection.setContent(B.createHTML('img', A)), u = B.get('__mcenew'), B.setAttrib(u, 'id', null)), b.editorUpload.uploadImagesAuto(), A.caption === !1 &amp;&amp; B.is(u.parentNode, 'figure.image') &amp;&amp; (a = u.parentNode, B.setAttrib(u, 'contenteditable', null), B.insertAfter(u, a), B.remove(a), b.selection.select(u), b.nodeChanged()), A.caption !== !0)<span class="cstat-no" title="statement not covered" >p(u); else <span class="cstat-no" title="statement not covered" >if (!B.is(u.parentNode, 'figure.image')) { <span class="cstat-no" title="statement not covered" >c = u, u = u.cloneNode(!0), u.contentEditable = !0, a = B.create('figure', {'class': 'image'}), a.appendChild(u), a.appendChild(B.create('figcaption', {contentEditable: !0}, 'Caption')), a.contentEditable = !1; v</span>ar d = <span class="cstat-no" title="statement not covered" >B.getParent(c, i); <span class="cstat-no" title="statement not covered" >d ? B.split(d, c, a) : B.replace(a, c), b.selection.select(a); } </span>} </span></span>else <span class="cstat-no" title="statement not covered" >if (u) { var e = <span class="cstat-no" title="statement not covered" >B.is(u.parentNode, 'figure.image') ? u.parentNode : u; <span class="cstat-no" title="statement not covered" >B.remove(e), b.focus(), b.nodeChanged(), B.isEmpty(b.getBody()) &amp;&amp; (b.setContent(''), b.selection.setCursorLocation()); } </span>})</span></span>; } </span>function <span class="fstat-no" title="function not covered" >r (a) { var c, e, f, g = <span class="cstat-no" title="statement not covered" >a.meta || {}; <span class="cstat-no" title="statement not covered" >y &amp;&amp; y.value(b.convertURL(this.value(), 'src')), h.each(g, <span class="fstat-no" title="function not covered" >function (</span>a, b) { <span class="cstat-no" title="statement not covered" >t.find('#' + b).value(a); })</span>, g.width || g.height || (c = b.convertURL(this.value(), 'src'), e = j.getPrependUrl(b), f = new d('^(?:[a-z]+:)?//', 'i'), e &amp;&amp; !f.test(c) &amp;&amp; c.substring(0, e.length) !== e &amp;&amp; (c = e + c), this.value(c), l.getImageSize(b.documentBaseURI.toAbsolute(this.value()), <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.width &amp;&amp; a.height &amp;&amp; D &amp;&amp; (w = a.width, x = a.height, t.find('#width').value(w), t.find('#height').value(x)); })</span>); } </span>function <span class="fstat-no" title="function not covered" >s (a) { <span class="cstat-no" title="statement not covered" >a.meta = t.toJSON(); } </span>var t, u, v, w, x, y, z, A = <span class="cstat-no" title="statement not covered" >{}, B = <span class="cstat-no" title="statement not covered" >b.dom, C = <span class="cstat-no" title="statement not covered" >b.settings, D = <span class="cstat-no" title="statement not covered" >j.hasDimensions(b); <span class="cstat-no" title="statement not covered" >u = b.selection.getNode(), v = B.getParent(u, 'figure.image'), v &amp;&amp; (u = B.select('img', v)[0]), u &amp;&amp; (u.nodeName !== 'IMG' || u.getAttribute('data-mce-object') || u.getAttribute('data-mce-placeholder')) &amp;&amp; (u = null), u &amp;&amp; (w = B.getAttrib(u, 'width'), x = B.getAttrib(u, 'height'), A = {src: B.getAttrib(u, 'src'), alt: B.getAttrib(u, 'alt'), title: B.getAttrib(u, 'title'), 'class': B.getAttrib(u, 'class'), width: w, height: x, caption: !!v}), e &amp;&amp; (y = {type: 'listbox', label: 'Image list', values: l.buildListItems(e, <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.value = b.convertURL(a.value || a.url, 'src'); },</span> [{text: 'None', value: ''}]), value: A.src &amp;&amp; b.convertURL(A.src, 'src'), onselect: <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >t.find('#alt'); <span class="cstat-no" title="statement not covered" >(!b.value() || a.lastControl &amp;&amp; b.value() === a.lastControl.text()) &amp;&amp; b.value(a.control.text()), t.find('#src').value(a.control.value()).fire('change'); },</span> onPostRender: <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >y = this; }}</span>), j.getClassList(b) &amp;&amp; (z = {name: 'class', type: 'listbox', label: 'Class', values: l.buildListItems(j.getClassList(b), <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >a.value &amp;&amp; (a.textStyle = <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >return b.formatter.getCssText({inline: 'img', classes: [a.value]}); })</span>; })</span>}); v</span>ar E = <span class="cstat-no" title="statement not covered" >[{name: 'src', type: 'filepicker', filetype: 'image', label: 'Source', autofocus: !0, onchange: r, onbeforecall: s}, y]; <span class="cstat-no" title="statement not covered" >if (j.hasDescription(b) &amp;&amp; E.push({name: 'alt', type: 'textbox', label: 'Image description'}), j.hasImageTitle(b) &amp;&amp; E.push({name: 'title', type: 'textbox', label: 'Image Title'}), D &amp;&amp; E.push({type: 'container', label: 'Dimensions', layout: 'flex', direction: 'row', align: 'center', spacing: 5, items: [{name: 'width', type: 'textbox', maxLength: 5, size: 3, onchange: m, ariaLabel: 'Width'}, {type: 'label', text: 'x'}, {name: 'height', type: 'textbox', maxLength: 5, size: 3, onchange: m, ariaLabel: 'Height'}, {name: 'constrain', type: 'checkbox', checked: !0, text: 'Constrain proportions'}]}), E.push(z), j.hasImageCaption(b) &amp;&amp; E.push({name: 'caption', type: 'checkbox', label: 'Caption'}), j.hasAdvTab(b) || b.settings.images_upload_url) { var F = <span class="cstat-no" title="statement not covered" >[{title: 'General', type: 'form', items: E}]; <span class="cstat-no" title="statement not covered" >if (j.hasAdvTab(b) &amp;&amp; (u &amp;&amp; (u.style.marginLeft &amp;&amp; u.style.marginRight &amp;&amp; u.style.marginLeft === u.style.marginRight &amp;&amp; (A.hspace = l.removePixelSuffix(u.style.marginLeft)), u.style.marginTop &amp;&amp; u.style.marginBottom &amp;&amp; u.style.marginTop === u.style.marginBottom &amp;&amp; (A.vspace = l.removePixelSuffix(u.style.marginTop)), u.style.borderWidth &amp;&amp; (A.border = l.removePixelSuffix(u.style.borderWidth)), A.style = b.dom.serializeStyle(b.dom.parseStyle(b.dom.getAttrib(u, 'style')))), F.push({title: 'Advanced', type: 'form', pack: 'start', items: [{label: 'Style', name: 'style', type: 'textbox', onchange: o}, {type: 'form', layout: 'grid', packV: 'start', columns: 2, padding: 0, alignH: ['left', 'right'], defaults: {type: 'textbox', maxWidth: 50, onchange: n}, items: [{label: 'Vertical space', name: 'vspace'}, {label: 'Horizontal space', name: 'hspace'}, {label: 'Border', name: 'border'}]}]})), b.settings.images_upload_url) { var G = <span class="cstat-no" title="statement not covered" >'.jpg,.jpeg,.png,.gif', H = <span class="cstat-no" title="statement not covered" >{title: 'Upload', type: 'form', layout: 'flex', direction: 'column', align: 'stretch', padding: '20 20 20 20', items: [{type: 'container', layout: 'flex', direction: 'column', align: 'center', spacing: 10, items: [{text: 'Browse for an image', type: 'browsebutton', accept: G, onchange: g}, {text: 'OR', type: 'label'}]}, {text: 'Drop an image here', type: 'dropzone', accept: G, height: 100, onchange: g}]}; <span class="cstat-no" title="statement not covered" >F.push(H); }<span class="cstat-no" title="statement not covered" >t</span></span> = b.windowManager.open({title: 'Insert/edit image', data: A, bodyType: 'tabpanel', body: F, onSubmit: q}); } </span>else <span class="cstat-no" title="statement not covered" >t = b.windowManager.open({title: 'Insert/edit image', data: A, body: E, onSubmit: q}); } </span></span>function <span class="fstat-no" title="function not covered" >n () { <span class="cstat-no" title="statement not covered" >e(m); } <span class="cstat-no" title="statement not covered" ></span>return {open: n}; };</span> })</span>, g('2', ['6'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >b.addCommand('mceImage', a(b).open); };</span> <span class="cstat-no" title="statement not covered" >return {register: b}; })</span>, g('3', ['7'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" >a.attr('class'); <span class="cstat-no" title="statement not covered" >return b &amp;&amp; /\bimage\b/.test(b); },</span> c = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>c) { <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function (</span>d) { <span class="cstat-no" title="statement not covered" >for (var e, f = d.length, g = function (a) { a.attr('contenteditable', c ? 'true' : null); }; f--;)<span class="cstat-no" title="statement not covered" >e = d[f], b(e) &amp;&amp; (e.attr('contenteditable', c ? 'false' : null), a.each(e.getAll('figcaption'), g), a.each(e.getAll('img'), g)); };</span> },</span> <span class="fstat-no" title="function not covered" >d = <span class="cstat-no" title="statement not covered" >f</span>unction (a) { <span class="cstat-no" title="statement not covered" >a.on('preInit', <span class="fstat-no" title="function not covered" >function () </span>{ <span class="cstat-no" title="statement not covered" >a.parser.addNodeFilter('figure', c(!0)), a.serializer.addNodeFilter('figure', c(!1)); })</span>; };</span> <span class="cstat-no" title="statement not covered" >return {setup: d}; })</span>, g('4', ['6'], <span class="fstat-no" title="function not covered" >function (</span>a) { var b = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >function (</span>b) { <span class="cstat-no" title="statement not covered" >b.addButton('image', {icon: 'image', tooltip: 'Insert/edit image', onclick: a(b).open, stateSelector: 'img:not([data-mce-object],[data-mce-placeholder]),figure.image'}), b.addMenuItem('image', {icon: 'image', text: 'Image', onclick: a(b).open, context: 'insert', prependToContext: !0}); };</span> <span class="cstat-no" title="statement not covered" >return {register: b}; })</span>, g('0', ['1', '2', '3', '4'], <span class="fstat-no" title="function not covered" >function (</span>a, b, c, d) { <span class="cstat-no" title="statement not covered" >return a.add('image', <span class="fstat-no" title="function not covered" >function (</span>a) { <span class="cstat-no" title="statement not covered" >c.setup(a), d.register(a), b.register(a); })</span>, <span class="fstat-no" title="function not covered" >function () </span>{}; })</span>, d('0')(); }(</span>));</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Sun May 13 2018 16:53:25 GMT+0800 (CST)
</div>
</div>
<script src="../../../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../../../sorter.js"></script>
<script src="../../../../../../../block-navigation.js"></script>
</body>
</html>
